<!DOCTYPE HTML>
<html lang="zh-CN" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>å¾ªç¯ä¾èµ–å¤„ç† - JavaScript æ¨¡å—åŒ–å¼€å‘æŒ‡å—</title>


        <!-- Custom HTML head -->

        <meta name="description" content="æ·±å…¥ç†è§£ JavaScript æ¨¡å—ç³»ç»Ÿï¼šä»åŸºç¡€æ¦‚å¿µåˆ°ç°ä»£å·¥å…·é“¾">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-689596af.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-73575c54.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">JavaScript æ¨¡å—åŒ–å¼€å‘æŒ‡å—</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="å¾ªç¯ä¾èµ–å¤„ç†"><a class="header" href="#å¾ªç¯ä¾èµ–å¤„ç†">å¾ªç¯ä¾èµ–å¤„ç†</a></h1>
<p>å¾ªç¯ä¾èµ–æ˜¯æ¨¡å—åŒ–å¼€å‘ä¸­å¸¸è§ä½†å¤æ‚çš„é—®é¢˜ã€‚å½“ä¸¤ä¸ªæˆ–å¤šä¸ªæ¨¡å—ç›¸äº’ä¾èµ–æ—¶ï¼Œå°±å½¢æˆäº†å¾ªç¯ä¾èµ–ã€‚ESæ¨¡å—ç³»ç»Ÿå…·æœ‰å¤„ç†å¾ªç¯ä¾èµ–çš„èƒ½åŠ›ï¼Œä½†ç†è§£å…¶æœºåˆ¶å¹¶é‡‡ç”¨æ­£ç¡®çš„è®¾è®¡æ¨¡å¼å¯¹äºæ„å»ºå¥å£®çš„åº”ç”¨è‡³å…³é‡è¦ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯å¾ªç¯ä¾èµ–"><a class="header" href="#ä»€ä¹ˆæ˜¯å¾ªç¯ä¾èµ–">ä»€ä¹ˆæ˜¯å¾ªç¯ä¾èµ–</a></h2>
<h3 id="åŸºæœ¬æ¦‚å¿µ"><a class="header" href="#åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</a></h3>
<pre><code class="language-javascript">// ç®€å•çš„å¾ªç¯ä¾èµ–ç¤ºä¾‹

// moduleA.js
import { functionB } from './moduleB.js';

export function functionA() {
    console.log('Function A called');
    return functionB();
}

// moduleB.js  
import { functionA } from './moduleA.js';  // å¾ªç¯ä¾èµ–ï¼

export function functionB() {
    console.log('Function B called');
    return 'Result from B';
}

// main.js
import { functionA } from './moduleA.js';
functionA(); // è¿™å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜
</code></pre>
<h3 id="å¾ªç¯ä¾èµ–çš„ç±»å‹"><a class="header" href="#å¾ªç¯ä¾èµ–çš„ç±»å‹">å¾ªç¯ä¾èµ–çš„ç±»å‹</a></h3>
<pre><code class="language-javascript">// 1. ç›´æ¥å¾ªç¯ä¾èµ–ï¼ˆA â†’ B â†’ Aï¼‰
// a.js
import { b } from './b.js';
export const a = 'a';

// b.js
import { a } from './a.js';
export const b = 'b';

// 2. é—´æ¥å¾ªç¯ä¾èµ–ï¼ˆA â†’ B â†’ C â†’ Aï¼‰
// a.js
import { b } from './b.js';
export const a = 'a';

// b.js
import { c } from './c.js';
export const b = 'b';

// c.js
import { a } from './a.js';
export const c = 'c';

// 3. å¤æ‚å¾ªç¯ä¾èµ–ï¼ˆå¤šä¸ªæ¨¡å—å½¢æˆç¯ï¼‰
// user.js
import { Order } from './order.js';
import { Product } from './product.js';

// order.js
import { User } from './user.js';
import { Product } from './product.js';

// product.js
import { User } from './user.js';
import { Order } from './order.js';
</code></pre>
<h2 id="esæ¨¡å—ä¸­å¾ªç¯ä¾èµ–çš„è¡Œä¸º"><a class="header" href="#esæ¨¡å—ä¸­å¾ªç¯ä¾èµ–çš„è¡Œä¸º">ESæ¨¡å—ä¸­å¾ªç¯ä¾èµ–çš„è¡Œä¸º</a></h2>
<h3 id="1-æ¨¡å—åŠ è½½é¡ºåº"><a class="header" href="#1-æ¨¡å—åŠ è½½é¡ºåº">1. æ¨¡å—åŠ è½½é¡ºåº</a></h3>
<pre><code class="language-javascript">// æ¼”ç¤ºESæ¨¡å—å¦‚ä½•å¤„ç†å¾ªç¯ä¾èµ–

// a.js
console.log('a.js start');
import { b } from './b.js';
console.log('a.js - b imported:', b);
export const a = 'value-a';
console.log('a.js end');

// b.js
console.log('b.js start');
import { a } from './a.js';
// æ³¨æ„ï¼šåœ¨ç°ä»£Node.jsä¸­ï¼Œç›´æ¥è®¿é—®aä¼šæŠ›å‡ºReferenceError
// console.log('b.js - a imported:', a); // ReferenceError: Cannot access 'a' before initialization

// ä½¿ç”¨å‡½æ•°å»¶è¿Ÿè®¿é—®æ¥é¿å…TDZé”™è¯¯
export function getA() {
    return a; // è¿™é‡Œå¯ä»¥å®‰å…¨è®¿é—®ï¼Œå› ä¸ºè°ƒç”¨æ—¶aå·²ç»åˆå§‹åŒ–
}

export const b = 'value-b';
console.log('b.js end');

// main.js
import { a } from './a.js';
import { getA } from './b.js';
console.log('main.js - a:', a);
console.log('main.js - getA():', getA());

// æ‰§è¡Œç»“æœï¼š
// b.js start
// b.js end
// a.js start
// a.js - b imported: value-b
// a.js end
// main.js - a: value-a
// main.js - getA(): value-a
</code></pre>
<blockquote>
<p><strong>é‡è¦æç¤º</strong>:</p>
<ul>
<li>åœ¨ç°ä»£JavaScriptå¼•æ“ï¼ˆå¦‚Node.js v14+ï¼‰ä¸­ï¼Œç›´æ¥è®¿é—®æœªåˆå§‹åŒ–çš„ç»‘å®šä¼šæŠ›å‡º<code>ReferenceError</code>ï¼Œè¿™æ˜¯ç”±äºTemporal Dead Zone (TDZ)çš„ä¿æŠ¤æœºåˆ¶</li>
<li>æ—©æœŸçš„ESæ¨¡å—å®ç°å¯èƒ½è¿”å›<code>undefined</code>ï¼Œä½†ç°ä»£å®ç°æ›´åŠ ä¸¥æ ¼</li>
<li>æ¨èä½¿ç”¨å‡½æ•°å»¶è¿Ÿè®¿é—®æˆ–é‡æ„ä»£ç æ¥é¿å…å¾ªç¯ä¾èµ–é—®é¢˜</li>
</ul>
</blockquote>
<h4 id="æ‰§è¡Œé¡ºåºè§£æ"><a class="header" href="#æ‰§è¡Œé¡ºåºè§£æ">æ‰§è¡Œé¡ºåºè§£æ</a></h4>
<p>ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼š<strong>ä¸ºä»€ä¹ˆæ‰§è¡Œé¡ºåºæ˜¯ <code>b.js start</code> â†’ <code>a.js start</code> â†’ <code>main.js</code>ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ESæ¨¡å—<strong>æ·±åº¦ä¼˜å…ˆåŠ è½½ç­–ç•¥</strong>çš„ç»“æœï¼š</p>
<ol>
<li><strong>main.js</strong> å¼€å§‹æ‰§è¡Œï¼Œé‡åˆ° <code>import { a } from './a.js'</code></li>
<li>å¼•æ“æš‚åœ main.jsï¼Œå¼€å§‹åŠ è½½ <strong>a.js</strong></li>
<li><strong>a.js</strong> æ‰§è¡Œï¼Œé‡åˆ° <code>import { b } from './b.js'</code></li>
<li>å¼•æ“æš‚åœ a.jsï¼Œå¼€å§‹åŠ è½½ <strong>b.js</strong></li>
<li><strong>b.js</strong> æ‰§è¡Œï¼Œé‡åˆ° <code>import { a } from './a.js'</code></li>
<li>å¼•æ“æ£€æµ‹åˆ°å¾ªç¯ä¾èµ–ï¼ˆa.js å·²åœ¨åŠ è½½ä¸­ï¼‰ï¼Œåˆ›å»ºæœªåˆå§‹åŒ–ç»‘å®š</li>
<li><strong>b.js</strong> ç»§ç»­æ‰§è¡Œå®Œæˆ â†’ è¾“å‡º â€œb.js startâ€ å’Œ â€œb.js endâ€</li>
<li>è¿”å› <strong>a.js</strong> ç»§ç»­æ‰§è¡Œ â†’ è¾“å‡º â€œa.js startâ€ å’Œ â€œa.js endâ€</li>
<li>è¿”å› <strong>main.js</strong> ç»§ç»­æ‰§è¡Œ â†’ è¾“å‡ºæœ€ç»ˆç»“æœ</li>
</ol>
<p><strong>è°ƒç”¨æ ˆæ¼”ç¤ºï¼š</strong></p>
<pre><code>æ—¶é—´çº¿    è°ƒç”¨æ ˆçŠ¶æ€
T1:      [main.js]
T2:      [main.js, a.js]
T3:      [main.js, a.js, b.js]
T4:      [main.js, a.js, b.js] â† æ£€æµ‹å¾ªç¯ä¾èµ–
T5:      [main.js, a.js] â† b.js å®Œæˆ
T6:      [main.js] â† a.js å®Œæˆ
T7:      [] â† main.js å®Œæˆ
</code></pre>
<p>è¿™ç§<strong>åè¿›å…ˆå‡º</strong>çš„æ‰§è¡Œé¡ºåºæ˜¯ESæ¨¡å—ç³»ç»Ÿçš„æ ¸å¿ƒç‰¹å¾ä¹‹ä¸€ã€‚</p>
<h3 id="2-ç»‘å®šçš„æ´»æ€§live-bindings"><a class="header" href="#2-ç»‘å®šçš„æ´»æ€§live-bindings">2. ç»‘å®šçš„æ´»æ€§ï¼ˆLive Bindingsï¼‰</a></h3>
<pre><code class="language-javascript">// å±•ç¤ºESæ¨¡å—æ´»ç»‘å®šå¦‚ä½•å¸®åŠ©å¤„ç†å¾ªç¯ä¾èµ–

// counter.js
console.log('counter.js loading');
import { increment } from './utils.js';

export let count = 0;

export function getCount() {
    return count;
}

export function setCount(value) {
    count = value;
}

// åˆå§‹åŒ–æ—¶è°ƒç”¨increment
increment();

// utils.js
console.log('utils.js loading');
import { count, setCount } from './counter.js';

export function increment() {
    console.log('increment called, current count:', count); // åˆå§‹æ—¶å¯èƒ½æ˜¯0
    setCount(count + 1);
}

// main.js
import { getCount } from './counter.js';
import { increment } from './utils.js';

console.log('Initial count:', getCount()); // 1
increment();
console.log('After increment:', getCount()); // 2
</code></pre>
<h2 id="æ£€æµ‹å¾ªç¯ä¾èµ–"><a class="header" href="#æ£€æµ‹å¾ªç¯ä¾èµ–">æ£€æµ‹å¾ªç¯ä¾èµ–</a></h2>
<h3 id="1-é™æ€åˆ†æå·¥å…·"><a class="header" href="#1-é™æ€åˆ†æå·¥å…·">1. é™æ€åˆ†æå·¥å…·</a></h3>
<pre><code class="language-javascript">// dependency-analyzer.js

class DependencyAnalyzer {
    constructor() {
        this.dependencies = new Map();
        this.visited = new Set();
        this.visiting = new Set();
    }
    
    addDependency(from, to) {
        if (!this.dependencies.has(from)) {
            this.dependencies.set(from, new Set());
        }
        this.dependencies.get(from).add(to);
    }
    
    findCircularDependencies() {
        const cycles = [];
        
        for (const module of this.dependencies.keys()) {
            if (!this.visited.has(module)) {
                const path = [];
                const cycle = this.dfs(module, path);
                if (cycle) {
                    cycles.push(cycle);
                }
            }
        }
        
        return cycles;
    }
    
    dfs(module, path) {
        if (this.visiting.has(module)) {
            // æ‰¾åˆ°å¾ªç¯ä¾èµ–
            const cycleStart = path.indexOf(module);
            return path.slice(cycleStart).concat([module]);
        }
        
        if (this.visited.has(module)) {
            return null;
        }
        
        this.visiting.add(module);
        path.push(module);
        
        const dependencies = this.dependencies.get(module) || new Set();
        for (const dep of dependencies) {
            const cycle = this.dfs(dep, [...path]);
            if (cycle) {
                return cycle;
            }
        }
        
        this.visiting.delete(module);
        this.visited.add(module);
        path.pop();
        
        return null;
    }
    
    generateReport() {
        const cycles = this.findCircularDependencies();
        
        if (cycles.length === 0) {
            return 'No circular dependencies found.';
        }
        
        let report = `Found ${cycles.length} circular dependency(ies):\n\n`;
        
        cycles.forEach((cycle, index) =&gt; {
            report += `${index + 1}. ${cycle.join(' â†’ ')}\n`;
        });
        
        return report;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
const analyzer = new DependencyAnalyzer();

// æ·»åŠ ä¾èµ–å…³ç³»
analyzer.addDependency('user.js', 'order.js');
analyzer.addDependency('order.js', 'product.js');
analyzer.addDependency('product.js', 'user.js');

console.log(analyzer.generateReport());
// è¾“å‡º: Found 1 circular dependency(ies):
//       1. user.js â†’ order.js â†’ product.js â†’ user.js
</code></pre>
<h3 id="2-è¿è¡Œæ—¶æ£€æµ‹"><a class="header" href="#2-è¿è¡Œæ—¶æ£€æµ‹">2. è¿è¡Œæ—¶æ£€æµ‹</a></h3>
<pre><code class="language-javascript">// runtime-cycle-detector.js

class RuntimeCycleDetector {
    constructor() {
        this.importStack = [];
        this.importGraph = new Map();
    }
    
    beforeImport(modulePath, currentModule) {
        // æ£€æŸ¥æ˜¯å¦å½¢æˆå¾ªç¯
        if (this.importStack.includes(modulePath)) {
            const cycleStart = this.importStack.indexOf(modulePath);
            const cycle = this.importStack.slice(cycleStart).concat([modulePath]);
            
            console.warn('ğŸ”„ Circular dependency detected:', cycle.join(' â†’ '));
            
            // è®°å½•åˆ°å›¾ä¸­
            this.recordCycle(cycle);
            
            return true; // æ£€æµ‹åˆ°å¾ªç¯
        }
        
        this.importStack.push(modulePath);
        return false; // æœªæ£€æµ‹åˆ°å¾ªç¯
    }
    
    afterImport(modulePath) {
        const index = this.importStack.indexOf(modulePath);
        if (index !== -1) {
            this.importStack.splice(index, 1);
        }
    }
    
    recordCycle(cycle) {
        const cycleKey = cycle.slice().sort().join('|');
        if (!this.importGraph.has(cycleKey)) {
            this.importGraph.set(cycleKey, {
                cycle: cycle,
                count: 1,
                firstDetected: new Date()
            });
        } else {
            this.importGraph.get(cycleKey).count++;
        }
    }
    
    getReport() {
        const cycles = Array.from(this.importGraph.values());
        
        if (cycles.length === 0) {
            return 'No circular dependencies detected during runtime.';
        }
        
        let report = 'Runtime Circular Dependencies Report:\n\n';
        
        cycles.forEach((info, index) =&gt; {
            report += `${index + 1}. ${info.cycle.join(' â†’ ')}\n`;
            report += `   Detected ${info.count} time(s)\n`;
            report += `   First detected: ${info.firstDetected.toISOString()}\n\n`;
        });
        
        return report;
    }
}

// åˆ›å»ºå…¨å±€æ£€æµ‹å™¨å®ä¾‹
const cycleDetector = new RuntimeCycleDetector();

// æ¨¡æ‹Ÿå¯¼å…¥é’©å­ï¼ˆå®é™…å®ç°å¯èƒ½éœ€è¦æ„å»ºå·¥å…·æ”¯æŒï¼‰
function importWithDetection(modulePath, currentModule) {
    const hasCycle = cycleDetector.beforeImport(modulePath, currentModule);
    
    if (hasCycle) {
        console.log(`âš ï¸  Proceeding with import despite circular dependency: ${modulePath}`);
    }
    
    // æ‰§è¡Œå®é™…å¯¼å…¥
    const result = import(modulePath);
    
    cycleDetector.afterImport(modulePath);
    
    return result;
}
</code></pre>
<h2 id="å¾ªç¯ä¾èµ–çš„è§£å†³æ–¹æ¡ˆ"><a class="header" href="#å¾ªç¯ä¾èµ–çš„è§£å†³æ–¹æ¡ˆ">å¾ªç¯ä¾èµ–çš„è§£å†³æ–¹æ¡ˆ</a></h2>
<h3 id="1-é‡æ„æ¶ˆé™¤å¾ªç¯ä¾èµ–"><a class="header" href="#1-é‡æ„æ¶ˆé™¤å¾ªç¯ä¾èµ–">1. é‡æ„æ¶ˆé™¤å¾ªç¯ä¾èµ–</a></h3>
<pre><code class="language-javascript">// é—®é¢˜ï¼šç”¨æˆ·å’Œè®¢å•æ¨¡å—ç›¸äº’ä¾èµ–

// åŸå§‹è®¾è®¡ï¼ˆæœ‰å¾ªç¯ä¾èµ–ï¼‰
// user.js
import { Order } from './order.js';

export class User {
    constructor(id, name) {
        this.id = id;
        this.name = name;
    }
    
    getOrders() {
        return Order.findByUserId(this.id);
    }
}

// order.js
import { User } from './user.js';

export class Order {
    constructor(id, userId, amount) {
        this.id = id;
        this.userId = userId;
        this.amount = amount;
    }
    
    getUser() {
        return User.findById(this.userId);
    }
    
    static findByUserId(userId) {
        // æŸ¥æ‰¾é€»è¾‘
        return [];
    }
}

// è§£å†³æ–¹æ¡ˆ1ï¼šæå–åˆ°æœåŠ¡å±‚
// user.js
export class User {
    constructor(id, name) {
        this.id = id;
        this.name = name;
    }
}

// order.js
export class Order {
    constructor(id, userId, amount) {
        this.id = id;
        this.userId = userId;
        this.amount = amount;
    }
}

// user-service.js
import { User } from './user.js';
import { Order } from './order.js';

export class UserService {
    static async getUserWithOrders(userId) {
        const user = await User.findById(userId);
        const orders = await Order.findByUserId(userId);
        
        return {
            user,
            orders
        };
    }
    
    static async getOrderWithUser(orderId) {
        const order = await Order.findById(orderId);
        const user = await User.findById(order.userId);
        
        return {
            order,
            user
        };
    }
}
</code></pre>
<h3 id="2-ä¾èµ–æ³¨å…¥æ¨¡å¼"><a class="header" href="#2-ä¾èµ–æ³¨å…¥æ¨¡å¼">2. ä¾èµ–æ³¨å…¥æ¨¡å¼</a></h3>
<pre><code class="language-javascript">// dependency-injection.js

// ç”¨æˆ·ä»“åº“
export class UserRepository {
    async findById(id) {
        // æ•°æ®åº“æŸ¥è¯¢é€»è¾‘
        return { id, name: `User ${id}` };
    }
    
    async findByIds(ids) {
        return ids.map(id =&gt; ({ id, name: `User ${id}` }));
    }
}

// è®¢å•ä»“åº“
export class OrderRepository {
    async findById(id) {
        return { id, userId: 1, amount: 100 };
    }
    
    async findByUserId(userId) {
        return [
            { id: 1, userId, amount: 100 },
            { id: 2, userId, amount: 200 }
        ];
    }
}

// ç”¨æˆ·æœåŠ¡ï¼ˆæ³¨å…¥è®¢å•ä»“åº“ï¼‰
export class UserService {
    constructor(orderRepository) {
        this.orderRepository = orderRepository;
    }
    
    async getUserOrders(userId) {
        return this.orderRepository.findByUserId(userId);
    }
}

// è®¢å•æœåŠ¡ï¼ˆæ³¨å…¥ç”¨æˆ·ä»“åº“ï¼‰
export class OrderService {
    constructor(userRepository) {
        this.userRepository = userRepository;
    }
    
    async getOrderUser(orderId) {
        const order = await this.findById(orderId);
        return this.userRepository.findById(order.userId);
    }
}

// åº”ç”¨ç»„è£…å™¨ï¼ˆæ— å¾ªç¯ä¾èµ–ï¼‰
// app.js
import { UserRepository } from './user-repository.js';
import { OrderRepository } from './order-repository.js';
import { UserService } from './user-service.js';
import { OrderService } from './order-service.js';

export function createServices() {
    const userRepository = new UserRepository();
    const orderRepository = new OrderRepository();
    
    const userService = new UserService(orderRepository);
    const orderService = new OrderService(userRepository);
    
    return {
        userService,
        orderService,
        userRepository,
        orderRepository
    };
}
</code></pre>
<h3 id="3-äº‹ä»¶é©±åŠ¨æ¨¡å¼"><a class="header" href="#3-äº‹ä»¶é©±åŠ¨æ¨¡å¼">3. äº‹ä»¶é©±åŠ¨æ¨¡å¼</a></h3>
<pre><code class="language-javascript">// event-driven.js

// äº‹ä»¶æ€»çº¿
class EventBus {
    constructor() {
        this.listeners = new Map();
    }
    
    on(event, callback) {
        if (!this.listeners.has(event)) {
            this.listeners.set(event, []);
        }
        this.listeners.get(event).push(callback);
    }
    
    off(event, callback) {
        const callbacks = this.listeners.get(event);
        if (callbacks) {
            const index = callbacks.indexOf(callback);
            if (index &gt; -1) {
                callbacks.splice(index, 1);
            }
        }
    }
    
    emit(event, data) {
        const callbacks = this.listeners.get(event) || [];
        callbacks.forEach(callback =&gt; callback(data));
    }
}

export const eventBus = new EventBus();

// ç”¨æˆ·æ¨¡å—ï¼ˆä¸ç›´æ¥ä¾èµ–è®¢å•ï¼‰
import { eventBus } from './event-bus.js';

export class User {
    constructor(id, name) {
        this.id = id;
        this.name = name;
    }
    
    static create(userData) {
        const user = new User(userData.id, userData.name);
        
        // å‘å¸ƒç”¨æˆ·åˆ›å»ºäº‹ä»¶
        eventBus.emit('user:created', user);
        
        return user;
    }
    
    delete() {
        // å‘å¸ƒç”¨æˆ·åˆ é™¤äº‹ä»¶
        eventBus.emit('user:deleted', { userId: this.id });
    }
}

// è®¢å•æ¨¡å—ï¼ˆé€šè¿‡äº‹ä»¶å“åº”ç”¨æˆ·å˜åŒ–ï¼‰
import { eventBus } from './event-bus.js';

export class Order {
    constructor(id, userId, amount) {
        this.id = id;
        this.userId = userId;
        this.amount = amount;
    }
    
    static init() {
        // ç›‘å¬ç”¨æˆ·åˆ é™¤äº‹ä»¶
        eventBus.on('user:deleted', Order.handleUserDeleted);
    }
    
    static handleUserDeleted(data) {
        console.log(`Handling deletion of orders for user ${data.userId}`);
        // å¤„ç†ç”¨æˆ·åˆ é™¤åçš„è®¢å•æ¸…ç†é€»è¾‘
    }
}

// åˆå§‹åŒ–
Order.init();
</code></pre>
<h3 id="4-å»¶è¿Ÿå¯¼å…¥æ¨¡å¼"><a class="header" href="#4-å»¶è¿Ÿå¯¼å…¥æ¨¡å¼">4. å»¶è¿Ÿå¯¼å…¥æ¨¡å¼</a></h3>
<pre><code class="language-javascript">// lazy-import.js

// ç”¨æˆ·æ¨¡å—
export class User {
    constructor(id, name) {
        this.id = id;
        this.name = name;
    }
    
    async getOrders() {
        // å»¶è¿Ÿå¯¼å…¥è®¢å•æ¨¡å—
        const { OrderService } = await import('./order-service.js');
        return OrderService.findByUserId(this.id);
    }
}

// è®¢å•æ¨¡å—
export class Order {
    constructor(id, userId, amount) {
        this.id = id;
        this.userId = userId;
        this.amount = amount;
    }
    
    async getUser() {
        // å»¶è¿Ÿå¯¼å…¥ç”¨æˆ·æ¨¡å—
        const { UserService } = await import('./user-service.js');
        return UserService.findById(this.userId);
    }
}

// è®¢å•æœåŠ¡
export class OrderService {
    static findByUserId(userId) {
        // æŸ¥æ‰¾é€»è¾‘
        return Promise.resolve([
            new Order(1, userId, 100),
            new Order(2, userId, 200)
        ]);
    }
}

// ç”¨æˆ·æœåŠ¡
export class UserService {
    static findById(userId) {
        // æŸ¥æ‰¾é€»è¾‘
        return Promise.resolve(new User(userId, `User ${userId}`));
    }
}
</code></pre>
<h3 id="5-ä¸­ä»‹è€…æ¨¡å¼"><a class="header" href="#5-ä¸­ä»‹è€…æ¨¡å¼">5. ä¸­ä»‹è€…æ¨¡å¼</a></h3>
<pre><code class="language-javascript">// mediator-pattern.js

// ä¸­ä»‹è€…
export class AppMediator {
    constructor() {
        this.userService = null;
        this.orderService = null;
    }
    
    setUserService(userService) {
        this.userService = userService;
    }
    
    setOrderService(orderService) {
        this.orderService = orderService;
    }
    
    async getUserOrders(userId) {
        return this.orderService.findByUserId(userId);
    }
    
    async getOrderUser(orderId) {
        const order = await this.orderService.findById(orderId);
        return this.userService.findById(order.userId);
    }
    
    async getUserWithOrders(userId) {
        const user = await this.userService.findById(userId);
        const orders = await this.orderService.findByUserId(userId);
        
        return { user, orders };
    }
}

// åˆ›å»ºå…¨å±€ä¸­ä»‹è€…å®ä¾‹
export const mediator = new AppMediator();

// ç”¨æˆ·æœåŠ¡
import { mediator } from './mediator.js';

export class UserService {
    constructor() {
        mediator.setUserService(this);
    }
    
    async findById(id) {
        return { id, name: `User ${id}` };
    }
    
    async getUserOrders(userId) {
        return mediator.getUserOrders(userId);
    }
}

// è®¢å•æœåŠ¡
import { mediator } from './mediator.js';

export class OrderService {
    constructor() {
        mediator.setOrderService(this);
    }
    
    async findById(id) {
        return { id, userId: 1, amount: 100 };
    }
    
    async findByUserId(userId) {
        return [
            { id: 1, userId, amount: 100 },
            { id: 2, userId, amount: 200 }
        ];
    }
    
    async getOrderUser(orderId) {
        return mediator.getOrderUser(orderId);
    }
}
</code></pre>
<h2 id="æœ€ä½³å®è·µ"><a class="header" href="#æœ€ä½³å®è·µ">æœ€ä½³å®è·µ</a></h2>
<h3 id="1-è®¾è®¡åŸåˆ™"><a class="header" href="#1-è®¾è®¡åŸåˆ™">1. è®¾è®¡åŸåˆ™</a></h3>
<pre><code class="language-javascript">// design-principles.js

// åŸåˆ™1ï¼šå•å‘ä¾èµ–
// âœ… å¥½çš„è®¾è®¡
// domain/user.js
export class User {
    constructor(id, name) {
        this.id = id;
        this.name = name;
    }
}

// domain/order.js
import { User } from './user.js';  // åªä¾èµ–Userï¼ŒUserä¸ä¾èµ–Order

export class Order {
    constructor(id, user, amount) {
        this.id = id;
        this.user = user;  // ç»„åˆå…³ç³»
        this.amount = amount;
    }
}

// åŸåˆ™2ï¼šä¾èµ–äºæŠ½è±¡è€Œéå…·ä½“å®ç°
// services/user-service.js
export class UserService {
    constructor(userRepository) {  // ä¾èµ–æŠ½è±¡æ¥å£
        this.userRepository = userRepository;
    }
    
    async createUser(userData) {
        return this.userRepository.save(userData);
    }
}

// åŸåˆ™3ï¼šåˆ†å±‚æ¶æ„
// è¡¨ç°å±‚ â†’ åº”ç”¨å±‚ â†’ é¢†åŸŸå±‚ â†’ åŸºç¡€è®¾æ–½å±‚
// ä¸Šå±‚å¯ä»¥ä¾èµ–ä¸‹å±‚ï¼Œä¸‹å±‚ä¸åº”ä¾èµ–ä¸Šå±‚
</code></pre>
<h3 id="2-æ¨¡å—ç»„ç»‡ç­–ç•¥"><a class="header" href="#2-æ¨¡å—ç»„ç»‡ç­–ç•¥">2. æ¨¡å—ç»„ç»‡ç­–ç•¥</a></h3>
<pre><code class="language-javascript">// module-organization.js

// ç­–ç•¥1ï¼šæŒ‰ç‰¹æ€§åˆ†ç»„ï¼ˆFeature-basedï¼‰
// features/
//   â”œâ”€â”€ user/
//   â”‚   â”œâ”€â”€ user.model.js
//   â”‚   â”œâ”€â”€ user.service.js
//   â”‚   â””â”€â”€ user.controller.js
//   â”œâ”€â”€ order/
//   â”‚   â”œâ”€â”€ order.model.js
//   â”‚   â”œâ”€â”€ order.service.js
//   â”‚   â””â”€â”€ order.controller.js
//   â””â”€â”€ shared/
//       â”œâ”€â”€ event-bus.js
//       â””â”€â”€ database.js

// ç­–ç•¥2ï¼šæŒ‰å±‚åˆ†ç»„ï¼ˆLayer-basedï¼‰
// src/
//   â”œâ”€â”€ models/
//   â”‚   â”œâ”€â”€ user.js
//   â”‚   â””â”€â”€ order.js
//   â”œâ”€â”€ services/
//   â”‚   â”œâ”€â”€ user-service.js
//   â”‚   â””â”€â”€ order-service.js
//   â”œâ”€â”€ controllers/
//   â”‚   â”œâ”€â”€ user-controller.js
//   â”‚   â””â”€â”€ order-controller.js
//   â””â”€â”€ shared/
//       â””â”€â”€ interfaces.js

// ç­–ç•¥3ï¼šæ··åˆæ–¹å¼
// src/
//   â”œâ”€â”€ core/              # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
//   â”‚   â”œâ”€â”€ user/
//   â”‚   â””â”€â”€ order/
//   â”œâ”€â”€ infrastructure/    # åŸºç¡€è®¾æ–½
//   â”‚   â”œâ”€â”€ database/
//   â”‚   â””â”€â”€ external-apis/
//   â”œâ”€â”€ application/       # åº”ç”¨æœåŠ¡
//   â”‚   â””â”€â”€ use-cases/
//   â””â”€â”€ presentation/      # è¡¨ç°å±‚
//       â””â”€â”€ controllers/
</code></pre>
<h3 id="3-å·¥å…·å’Œé…ç½®"><a class="header" href="#3-å·¥å…·å’Œé…ç½®">3. å·¥å…·å’Œé…ç½®</a></h3>
<pre><code class="language-javascript">// tools-config.js

// ESLinté…ç½®æ£€æµ‹å¾ªç¯å¯¼å…¥
// .eslintrc.js
module.exports = {
    plugins: ['import'],
    rules: {
        'import/no-cycle': ['error', { 
            maxDepth: 10,
            ignoreExternal: true 
        }]
    }
};

// Webpacké…ç½®æ˜¾ç¤ºå¾ªç¯ä¾èµ–è­¦å‘Š
// webpack.config.js
const CircularDependencyPlugin = require('circular-dependency-plugin');

module.exports = {
    plugins: [
        new CircularDependencyPlugin({
            exclude: /node_modules/,
            failOnError: true,
            allowAsyncCycles: false,
            cwd: process.cwd(),
        })
    ]
};

// è‡ªå®šä¹‰æ£€æµ‹è„šæœ¬
// scripts/check-cycles.js
const madge = require('madge');

madge('./src')
    .then((res) =&gt; {
        const circular = res.circular();
        if (circular.length &gt; 0) {
            console.error('Circular dependencies found:');
            circular.forEach((cycle) =&gt; {
                console.error('  ', cycle.join(' â†’ '));
            });
            process.exit(1);
        } else {
            console.log('âœ… No circular dependencies found');
        }
    })
    .catch((err) =&gt; {
        console.error('Error analyzing dependencies:', err);
        process.exit(1);
    });
</code></pre>
<h2 id="æ€»ç»“"><a class="header" href="#æ€»ç»“">æ€»ç»“</a></h2>
<p>å¾ªç¯ä¾èµ–è™½ç„¶åœ¨ESæ¨¡å—ä¸­ä¸ä¼šç›´æ¥å¯¼è‡´é”™è¯¯ï¼Œä½†ä¼šå¢åŠ ä»£ç çš„å¤æ‚æ€§å’Œç»´æŠ¤éš¾åº¦ï¼š</p>
<ul>
<li>âœ… <strong>ç†è§£ESæ¨¡å—è¡Œä¸º</strong>: æŒæ¡æ¨¡å—åŠ è½½é¡ºåºå’Œæ´»ç»‘å®šæœºåˆ¶</li>
<li>âœ… <strong>åŠæ—©æ£€æµ‹</strong>: ä½¿ç”¨å·¥å…·åœ¨å¼€å‘é˜¶æ®µå‘ç°å¾ªç¯ä¾èµ–</li>
<li>âœ… <strong>é‡æ„è®¾è®¡</strong>: é€šè¿‡åˆ†å±‚ã€ä¾èµ–æ³¨å…¥ç­‰æ¨¡å¼æ¶ˆé™¤å¾ªç¯ä¾èµ–</li>
<li>âœ… <strong>é‡‡ç”¨æœ€ä½³å®è·µ</strong>: éµå¾ªå•å‘ä¾èµ–å’Œåˆ†å±‚æ¶æ„åŸåˆ™</li>
<li>âœ… <strong>é€‰æ‹©åˆé€‚ç­–ç•¥</strong>: æ ¹æ®é¡¹ç›®ç‰¹ç‚¹é€‰æ‹©é€‚å½“çš„è§£å†³æ–¹æ¡ˆ</li>
</ul>
<p>è‰¯å¥½çš„æ¨¡å—è®¾è®¡åº”è¯¥é¿å…å¾ªç¯ä¾èµ–ï¼Œè¿™ä¸ä»…æé«˜äº†ä»£ç çš„å¯æµ‹è¯•æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä¹Ÿä½¿åº”ç”¨æ¶æ„æ›´åŠ æ¸…æ™°å’Œç¨³å®šã€‚</p>
<hr>
<p><strong>ä¸‹ä¸€ç« </strong>: <a href="../cjs/basics.html">CommonJSåŸºç¡€</a> â†’</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../esm/hot-module-reload.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../cjs/basics.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../esm/hot-module-reload.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../cjs/basics.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
