<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
    div.mermaid {
      width: 0;
    }
</style>

  <link rel="preload" as="font" href="https://wangzaixiang.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://wangzaixiang.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2"  type="font/woff2" crossorigin>


<link rel="stylesheet" href="https://wangzaixiang.github.io/main.css">



  
  
  
  
  
    
  

  
  
    
    
  
  
  
    
  
  
  
  
    
  
  
  


  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">


	


	

<title>FPT workflow | ç¨‹åºäººç”Ÿ</title>
<meta name="description" content="è¿™æ˜¯æˆ‘åœ¨ä½¿ç”¨ claude code è¿‡ç¨‹ä¸­ï¼Œå’Œ code agent ä¸€èµ·å®šä¹‰çš„å¼€å‘æµç¨‹è§„èŒƒï¼Œéå¸¸é€‚åˆäºä½¿ç”¨å vibe coding è¿›è¡Œå¤æ‚é¡¹ç›®çš„å¼€å‘">
<link rel="canonical" href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/">


  <meta name="twitter:card" content="summary_large_image">
  
    <meta name="twitter:image" content="https://wangzaixiang.github.io/doks.png">
  
  <meta name="twitter:title" content="FPT workflow">
  <meta name="twitter:description" content="è¿™æ˜¯æˆ‘åœ¨ä½¿ç”¨ claude code è¿‡ç¨‹ä¸­ï¼Œå’Œ code agent ä¸€èµ·å®šä¹‰çš„å¼€å‘æµç¨‹è§„èŒƒï¼Œéå¸¸é€‚åˆäºä½¿ç”¨å vibe coding è¿›è¡Œå¤æ‚é¡¹ç›®çš„å¼€å‘">
  <meta name="twitter:site" content="@wangzaixiang">
  <meta name="twitter:creator" content="@wangzaixiang">
  
  <meta property="og:title" content="FPT workflow">
  <meta property="og:description" content="è¿™æ˜¯æˆ‘åœ¨ä½¿ç”¨ claude code è¿‡ç¨‹ä¸­ï¼Œå’Œ code agent ä¸€èµ·å®šä¹‰çš„å¼€å‘æµç¨‹è§„èŒƒï¼Œéå¸¸é€‚åˆäºä½¿ç”¨å vibe coding è¿›è¡Œå¤æ‚é¡¹ç›®çš„å¼€å‘">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/">

  
    <meta property="og:image" content="https://wangzaixiang.github.io/doks.png">
  

  <meta property="og:updated_time" content="">
  <meta property="og:site_name" content="FPT workflow">

  

  

  
  <meta property="article:publisher" content="https://www.facebook.com/ichunyun">
  <meta property="article:author" content="https://www.facebook.com/ichunyun">
  <meta property="og:locale" content="en_US">





  
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/blog/feature-phase-task-workflow/"
      },
      "headline": "FPT workflow",
      "image": ,
      "datePublished": "2025-11-01",
      "dateModified": "",
      "author": {
        "@type": "Organization",
        "name": "FPT workflow"
      },
      "publisher": {
        "@type": "Organization",
        "name": "FPT workflow",
        
        "logo": {
          "@type": "ImageObject",
          "url": "/logo-doks.png"
        }
        
      },
      "description": "è¿™æ˜¯æˆ‘åœ¨ä½¿ç”¨ claude code è¿‡ç¨‹ä¸­ï¼Œå’Œ code agent ä¸€èµ·å®šä¹‰çš„å¼€å‘æµç¨‹è§„èŒƒï¼Œéå¸¸é€‚åˆäºä½¿ç”¨å vibe coding è¿›è¡Œå¤æ‚é¡¹ç›®çš„å¼€å‘"
    }
    </script>
  





<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://wangzaixiang.github.io/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Blog",
            "item": "https://wangzaixiang.github.io/blog/"
          },
        
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Feature Phase Task Workflow",
            "item": "https://wangzaixiang.github.io/blog/feature-phase-task-workflow/"
          },
        
      
    
  }
</script>







  <meta name="theme-color" content="#fff">
  <link rel="apple-touch-icon" sizes="180x180" href="https://wangzaixiang.github.io/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://wangzaixiang.github.io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://wangzaixiang.github.io/favicon-16x16.png">
  


  

</head>

  

<body class="blog single">
  
  
<div class="header-bar fixed-top"></div>
<header class="navbar fixed-top navbar-expand-md navbar-light">
	<div class="container">
		<input class="menu-btn order-0" type="checkbox" id="menu-btn">
		<label class="menu-icon d-md-none" for="menu-btn"><span class="navicon"></span></label>
		<a class="navbar-brand order-1 order-md-0 me-auto" href="https://wangzaixiang.github.io">ç¨‹åºäººç”Ÿ</a>
		<button id="mode" class="btn btn-link order-2 order-md-4" type="button" aria-label="Toggle mode">
			<span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
			<span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
		</button>
		<ul class="navbar-nav fork-me order-3 order-md-5">
			
				
					<li class="nav-item">
						<a class="nav-link" href="https://twitter.com/wangzaixiang"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg><span class="ms-2 visually-hidden">Twitter</span></a>
					</li>
				
					<li class="nav-item">
						<a class="nav-link" href="https://github.com/wangzaixiang/"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
					</li>
				
			
		</ul>
		<div class="collapse navbar-collapse order-4 order-md-1">
			<ul class="navbar-nav main-nav me-auto order-5 order-md-2">
				
					
				
				
				
					
						<li class="nav-item blog active">
							<a class="nav-link" href="https://wangzaixiang.github.io/blog/">Blog</a>
						</li>
					
						<li class="nav-item">
							<a class="nav-link" href="https://wangzaixiang.github.io/monthly/">Monthly</a>
						</li>
					
						<li class="nav-item">
							<a class="nav-link" href="https://wangzaixiang.github.io/thoughts/">Thoughts</a>
						</li>
					
				
			</ul>
			<div class="break order-6 d-md-none"></div>
			
				<form class="navbar-form flex-grow-1 order-7 order-md-3">
					<input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
						aria-label="Search docs..." autocomplete="off">
					<div id="suggestions" class="shadow bg-white rounded"></div>
				</form>
			
		</div>
	</div>
</header>



  
<div class="wrap container" role="document">
  <div class="content">
    <div class="row justify-content-center">
      
  
  <nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
  	<div class="page-links">
  			<h3>On this page</h3>
  			<nav id="TableOfContents">
  					<ul>
  							
  							<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#feature-phase-task-workflow">Feature-Phase-Task Workflow</a></li>
  							
  									<ul>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#shu-yu-biao">æœ¯è¯­è¡¨</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#jiao-se">è§’è‰²</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#zhuang-tai-fu-hao-gui-fan">çŠ¶æ€ç¬¦å·è§„èŒƒ</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#0-feature-he-ceng-ji-jie-gou">0. Feature å’Œå±‚çº§ç»“æ„</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#1-kai-fa-liu-cheng-zong-lan">1. å¼€å‘æµç¨‹æ€»è§ˆ</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#2-phase-hua-fen">2. Phase åˆ’åˆ†</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#3-task-fen-jie-gui-ze">3. Task åˆ†è§£è§„åˆ™</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#4-ce-shi-yong-li-gui-fan">4. æµ‹è¯•ç”¨ä¾‹è§„èŒƒ</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#5-shi-xian-liu-cheng-tdd-xun-huan">5. å®ç°æµç¨‹ï¼ˆTDD å¾ªç¯ï¼‰</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#6-jin-du-gen-zong-gui-fan">6. è¿›åº¦è·Ÿè¸ªè§„èŒƒ</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#7-yan-shou-biao-zhun">7. éªŒæ”¶æ ‡å‡†</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#8-gou-tong-mo-shi">8. æ²Ÿé€šæ¨¡å¼</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#9-yi-chang-chu-li-liu-cheng">9. å¼‚å¸¸å¤„ç†æµç¨‹</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#10-git-gong-zuo-liu-ji-cheng">10. Git å·¥ä½œæµé›†æˆ</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#xiang-guan-wen-dang">ç›¸å…³æ–‡æ¡£</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#checklist">Checklist</a></li>
  											
  											<li><a href="https://wangzaixiang.github.io/blog/feature-phase-task-workflow/#11-chang-jian-wen-ti-pai-cha">11. å¸¸è§é—®é¢˜æ’æŸ¥</a></li>
  											
  									</ul>
  							
  							
  					</ul>
  			</nav>
  	</div>
  </nav>
  

      <div class="col-md-12 col-lg-10 col-xxl-12">



        <article>
          <div class="blog-header">
            <h1>FPT workflow</h1>
            <nav style="display: flex; justify-content: space-between">
              
              <a href="https://wangzaixiang.github.io/blog/vibe-coding-2/"> â‡¦ Previous </a>
              

              
<p><small>Posted November  1, 2025&nbsp;&hyphen;&nbsp;<strong>20&nbsp;min read</strong></small></p>


              
              <a href="https://wangzaixiang.github.io/blog/vibe-coding/"> Next â‡¨ </a>
              
            </nav>

          </div>
          
          <h1 id="feature-phase-task-workflow">Feature-Phase-Task Workflow</h1>
<p>æœ¬æ–‡æ¡£å®šä¹‰äº† Vibe Coding å®æ–½é¡¹ç›®çš„æµç¨‹å’Œè§„èŒƒã€‚</p>
<h2 id="shu-yu-biao">æœ¯è¯­è¡¨</h2>
<table><thead><tr><th>æœ¯è¯­</th><th>å®šä¹‰</th><th>ç¤ºä¾‹</th></tr></thead><tbody>
<tr><td>Feature</td><td>ç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—</td><td>scheme_v2, file_writer</td></tr>
<tr><td>Phase</td><td>Feature å†…çš„å¼€å‘é˜¶æ®µ</td><td>Phase 1, Phase 2</td></tr>
<tr><td>Task</td><td>æœ€å°å·¥ä½œå•å…ƒï¼ˆ0.5-1å¤©ï¼‰</td><td>Task 1, Task 2</td></tr>
<tr><td>TDD</td><td>æµ‹è¯•é©±åŠ¨å¼€å‘</td><td>Red-Green-Refactor</td></tr>
<tr><td>Stub</td><td>API å ä½å®ç°</td><td><code>fn foo() { todo!() }</code></td></tr>
</tbody></table>
<h2 id="jiao-se">è§’è‰²</h2>
<ul>
<li><strong>Code Agent</strong>ï¼šè´Ÿè´£å’Œ Developer è¿›è¡Œäº¤äº’ï¼Œç†è§£éœ€æ±‚ã€ç¼–å†™æ–‡æ¡£ã€ä»£ç ã€æµ‹è¯•</li>
<li><strong>Developer</strong>ï¼šå¯¹ Code Agent æå‡ºæŒ‡ä»¤ï¼Œå®¡é˜…äº§å‡ºç‰©ï¼Œç¡®è®¤å…³é”®å†³ç­–</li>
</ul>
<h2 id="zhuang-tai-fu-hao-gui-fan">çŠ¶æ€ç¬¦å·è§„èŒƒ</h2>
<ul>
<li>âœ… å®Œæˆ (Completed)</li>
<li>â³ è¿›è¡Œä¸­ (In Progress)</li>
<li>â¸ï¸ å¾…å¼€å§‹ (Pending)</li>
<li>âš ï¸ å—é˜» (Blocked)</li>
<li>ğŸ”„ éœ€é‡åš (Need Rework)</li>
</ul>
<p><strong>ä½¿ç”¨è§„åˆ™</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ª Phase/Task å¿…é¡»æœ‰æ˜ç¡®çš„çŠ¶æ€ç¬¦å·</li>
<li>Code Agent å¿…é¡»åœ¨å®Œæˆåç«‹å³æ›´æ–°çŠ¶æ€</li>
<li>Developer å¯ä»¥å°†ä»»åŠ¡æ ‡è®°ä¸º âš ï¸ æˆ– ğŸ”„</li>
</ul>
<hr />
<h2 id="0-feature-he-ceng-ji-jie-gou">0. Feature å’Œå±‚çº§ç»“æ„</h2>
<h3 id="feature-ding-yi">Feature å®šä¹‰</h3>
<p>Feature æ˜¯ä¸€ä¸ª<strong>ç‹¬ç«‹çš„åŠŸèƒ½ç‰¹æ€§</strong>ï¼Œå¯ç‹¬ç«‹è§„åˆ’ã€å¼€å‘ã€æµ‹è¯•å’Œäº¤ä»˜ï¼Œå¯¹åº”äº Git Workflow ä¸­ Pull Requestã€‚</p>
<p><strong>Feature ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li><code>scheme_v1</code>, <code>scheme_v2</code>, <code>scheme_v3</code>ï¼šä¸åŒçš„å­˜å‚¨æ–¹æ¡ˆ</li>
<li><code>file_writer</code>ï¼šæ–‡ä»¶å†™å…¥æ¨¡å—</li>
<li><code>file_reader</code>ï¼šæ–‡ä»¶è¯»å–æ¨¡å—</li>
<li><code>cli</code>ï¼šå‘½ä»¤è¡Œå·¥å…·</li>
<li><code>lsm_compaction</code>ï¼šLSM åˆå¹¶é€»è¾‘</li>
</ul>
<h3 id="san-ceng-zu-zhi-jie-gou">ä¸‰å±‚ç»„ç»‡ç»“æ„</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>Feature â†’ Phase â†’ Task
</span></code></pre>
<ul>
<li><strong>Feature</strong>ï¼šç‹¬ç«‹åŠŸèƒ½æ¨¡å—ï¼Œæœ‰ç‹¬ç«‹çš„ è®¾è®¡æ–‡æ¡£, task_list.md å’Œæµ‹è¯•æ–‡ä»¶</li>
<li>Feature çš„è®¾è®¡æ–‡æ¡£åœ¨ fpt/features/{feature}/design.md ä¸‹ã€‚</li>
<li><strong>Phase</strong>ï¼šFeature å†…çš„å¼€å‘é˜¶æ®µï¼Œç›¸å½“äº1ä¸ªå°çš„è¿­ä»£ï¼Œç¼–å·åœ¨ <strong>Feature å†…ç‹¬ç«‹</strong>ï¼ˆæ¯ä¸ª Feature ä» Phase 1 å¼€å§‹ï¼‰</li>
<li><strong>Task</strong>ï¼šå¯åœ¨ 0.5-1 å¤©å®Œæˆçš„æœ€å°å·¥ä½œå•å…ƒ</li>
</ul>
<p>å¦‚æœä¸ Git Workflow ç›¸å¯¹æ¯”ï¼š</p>
<ul>
<li>Feature å¯¹åº”äº Pull Requestï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰¹æ€§ã€åœºæ™¯ã€‚</li>
<li>Phase å¯¹åº”äºä¸€ä¸ª Feature å†…çš„å¤šä¸ª iterationï¼Œæ¯ä¸ª phase å®Œæˆä¸€å®šçš„åŠŸèƒ½ï¼Œå¹¶ä¸ºä¸‹ä¸€ä¸ª phase æä¾›å‡†å¤‡ã€‚éƒ¨ä»½ä»£ç å¯èƒ½å†åç»­çš„ phase æ¸…ç†ã€é‡æ„
å¦‚æœåç»­é‡æ„/åˆ é™¤äº†è¿™ä¸ª phase çš„ä»£ç ï¼Œåˆ™ä¹Ÿç›¸åº”çš„é‡æ„/åˆ é™¤åŸæœ‰çš„æµ‹è¯•ç”¨ä¾‹ã€‚</li>
<li>Task åˆ™å¯¹åº”äº phase å†…çš„å­—ä»»åŠ¡æ‹†è§£ï¼Œä¸TDD çš„ test case æœ‰è¾ƒå¥½çš„å¯¹åº”å…³ç³»ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>Feature: file_writer
</span><span>  Phase 1: API å®šä¹‰
</span><span>    Task 1: åˆ›å»ºæ ¸å¿ƒæ•°æ®ç»“æ„
</span><span>    Task 2: å¯¼å‡º API
</span><span>  Phase 2: Mmap åˆå§‹åŒ–
</span><span>    Task 1: æ–‡ä»¶é¢„åˆ†é…
</span><span>    Task 2: Mmap æ˜ å°„
</span><span>
</span><span>Feature: scheme_v2
</span><span>  Phase 1: Dictionary å®ç°
</span><span>    Task 1: DimDict API
</span><span>    Task 2: Encoding é€»è¾‘
</span></code></pre>
<hr />
<h2 id="1-kai-fa-liu-cheng-zong-lan">1. å¼€å‘æµç¨‹æ€»è§ˆ</h2>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>è§„åˆ’ â†’ æµ‹è¯•è®¾è®¡ â†’ API å®šä¹‰ â†’ æµ‹è¯•è¯„å®¡ â†’ å®ç° â†’ éªŒè¯ â†’ å½’æ¡£
</span><span>  â†“        â†“          â†“          â†“        â†“      â†“       â†“
</span><span>Phase   Test Cases  Signatures  Review   Code   Pass   Commit
</span></code></pre>
<h3 id="liu-cheng-shuo-ming">æµç¨‹è¯´æ˜</h3>
<ol>
<li><strong>è§„åˆ’</strong>ï¼šå°†åŠŸèƒ½éœ€æ±‚åˆ†è§£ä¸º Featureã€Phase å’Œ Task</li>
<li><strong>æµ‹è¯•è®¾è®¡</strong>ï¼šç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œå®šä¹‰é¢„æœŸè¡Œä¸º</li>
<li><strong>API å®šä¹‰</strong>ï¼šå®šä¹‰æ•°æ®ç»“æ„å’Œæ¥å£ç­¾åï¼Œä½¿ç”¨ <code>todo!()</code> å ä½</li>
<li><strong>æµ‹è¯•è¯„å®¡</strong>ï¼šDeveloper ç¡®è®¤æµ‹è¯•ç”¨ä¾‹ã€API è®¾è®¡æ˜¯å¦ç¬¦åˆéœ€æ±‚</li>
<li><strong>å®ç°</strong>ï¼šå®ç°åŠŸèƒ½é€»è¾‘ï¼Œä½¿æµ‹è¯•é€šè¿‡</li>
<li><strong>éªŒè¯</strong>ï¼šè¿è¡Œæµ‹è¯•ï¼Œç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡</li>
<li><strong>å½’æ¡£</strong>ï¼šæ›´æ–° <code>fpt/features/{feature}/task_list.md</code>ï¼Œæäº¤ä»£ç </li>
</ol>
<hr />
<h2 id="2-phase-hua-fen">2. Phase åˆ’åˆ†</h2>
<p>Phase åˆ’åˆ†ç”± Code Agent æ ¹æ® Developer æŒ‡ä»¤è¿›è¡Œï¼Œè§„åˆ’åéœ€ä¸ Developer ç¡®è®¤ã€‚</p>
<h3 id="phase-gui-fan">Phase è§„èŒƒ</h3>
<ul>
<li>Phase ç¼–å·åœ¨ <strong>Feature å†…ç‹¬ç«‹</strong>ï¼Œæ¯ä¸ª Feature ä» Phase 1 å¼€å§‹</li>
<li>æ¯ä¸ª Phase æœ‰æ¸…æ™°çš„å¼€å‘ç›®æ ‡ï¼Œå¯ä½œä¸ºåç»­ Phase çš„åŸºç¡€ï¼ˆè§†ä¸ºä¸€ä¸ª Iterationï¼‰</li>
<li>åŒ…å« 3-8 ä¸ª Taskï¼Œæ¯ä¸ª Task 0.5-1 å¤©å¯å®Œæˆ</li>
<li>æœ‰æ˜ç¡®çš„éªŒæ”¶æ ‡å‡†å’Œäº§å‡ºç‰©</li>
</ul>
<h3 id="ming-ming-gui-fan">å‘½åè§„èŒƒ</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>Feature: file_writer
</span><span>  Phase 1: API å®šä¹‰
</span><span>  Phase 2: Mmap åˆå§‹åŒ–
</span><span>  Phase 3: Schema å®šä¹‰
</span><span>
</span><span>Feature: scheme_v2
</span><span>  Phase 1: Dictionary å®ç°
</span><span>  Phase 2: Encoding é€»è¾‘
</span></code></pre>
<h3 id="phase-0-duan-dao-duan-de-api-she-ji-jie-duan">phase 0: ç«¯åˆ°ç«¯çš„API è®¾è®¡é˜¶æ®µ</h3>
<p>éƒ¨ä»½å¤æ‚æ€§çš„ä»»åŠ¡éœ€è¦æ’å…¥ phase 0 çš„é˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µçš„ç›®çš„æ˜¯ï¼šé‡‡ç”¨ TDD çš„æ–¹å¼ï¼Œé€šè¿‡å®šä¹‰ç«¯åˆ°ç«¯çš„åœºæ™¯ï¼Œæ¥å®šä¹‰ç›¸å…³çš„ API å’Œæ•°æ®ç»“æ„ï¼Œè¯„å®¡é€šè¿‡å
å†å¼€å¯ä¸‹ä¸€é˜¶æ®µçš„çš„å¼€å‘ä»»åŠ¡ã€‚</p>
<ul>
<li>å®šä¹‰ç«¯åˆ°ç«¯çš„APIï¼Œå³æ¨¡å—å¯¹å¤–æä¾›çš„ pub API + structï¼Œè€Œéå†…éƒ¨çš„ã€å®ç°ç»†èŠ‚ç²’åº¦ã€‚</li>
<li>ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ¥æ¨¡æ‹Ÿä½¿ç”¨åœºæ™¯ï¼Œæ¼”ç¤º API çš„ä½¿ç”¨ã€‚</li>
<li>ä»…ç¼–å†™æœ€å°åŒ–çš„ä»£ç ï¼ˆtodo!() æ›¿ä»£å®ç°ï¼‰ï¼Œä½¿å…¶é€šè¿‡ç¼–è¯‘ã€‚</li>
</ul>
<p>ä¸€èˆ¬çš„ï¼Œåœ¨ phase 0 å®Œæˆåï¼Œåº”è¯¥äº¤ç»™ developer æ¥è¿›è¡Œè¯„å®¡ï¼Œè¯„å®¡ç¡®è®¤åï¼Œå†å¼€å§‹å·¥ä½œï¼š</p>
<ul>
<li>æ›´æ–° task_list.md ï¼ˆéœ€è¦æ ¹æ®è¯„å®¡ä¸­çš„å˜åŒ–è€Œè°ƒæ•´è®¡åˆ’ï¼‰</li>
</ul>
<hr />
<h2 id="3-task-fen-jie-gui-ze">3. Task åˆ†è§£è§„åˆ™</h2>
<h3 id="task-gui-fan">Task è§„èŒƒ</h3>
<ul>
<li>å•ä¸ª Task ä¸è¶…è¿‡ 0.5-1 å¤©å·¥ä½œé‡</li>
<li>å¯ç‹¬ç«‹æµ‹è¯•å’ŒéªŒè¯</li>
<li>æœ‰æ˜ç¡®çš„è¾“å…¥å’Œè¾“å‡º</li>
</ul>
<h3 id="ming-ming-gui-fan-1">å‘½åè§„èŒƒ</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>Feature: file_writer
</span><span>  Phase 1: API å®šä¹‰
</span><span>    Task 1: åˆ›å»ºæ ¸å¿ƒæ•°æ®ç»“æ„
</span><span>    Task 2: å¯¼å‡º API
</span><span>  Phase 2: Mmap åˆå§‹åŒ–
</span><span>    Task 1: æ–‡ä»¶é¢„åˆ†é…
</span><span>    Task 2: Mmap æ˜ å°„
</span><span>    Task 3: Drop æ¸…ç†é€»è¾‘
</span></code></pre>
<hr />
<h2 id="4-ce-shi-yong-li-gui-fan">4. æµ‹è¯•ç”¨ä¾‹è§„èŒƒ</h2>
<h3 id="4-1-ming-ming-gui-fan">4.1 å‘½åè§„èŒƒ</h3>
<p><strong>æµ‹è¯•æ–‡ä»¶</strong>: <code>{crate}/tests/{feature}_phase_{seq}_description.rs</code></p>
<ul>
<li><code>crate</code>: æ‰€åœ¨ crateï¼ˆå¦‚ molap_file, lsmï¼‰</li>
<li><code>feature</code>: Feature åç§°ï¼ˆå¦‚ file_writer, scheme_v2ï¼‰</li>
<li><code>seq</code>: Phase åºå·ï¼ˆåœ¨ Feature å†…ç‹¬ç«‹ç¼–å·ï¼Œ<strong>ä»…1çº§ç¼–å·</strong>ï¼Œå¦‚ 1, 2, 3ï¼‰</li>
<li><code>description</code>: ç®€çŸ­æè¿°</li>
</ul>
<p><strong>æµ‹è¯•å‡½æ•°</strong>: <code>task_{phase}_{task}_description</code></p>
<ul>
<li><code>phase</code>: Phase åºå·ï¼ˆ<strong>ä»…1çº§ç¼–å·</strong>ï¼Œå¦‚ 1, 2, 3ï¼‰</li>
<li><code>task</code>: Task åºå·ï¼ˆ<strong>ä»…1çº§ç¼–å·</strong>ï¼Œå¦‚ 1, 2, 3ï¼‰</li>
<li><code>_</code>: ä¸‹åˆ’çº¿åˆ†éš”ç¬¦</li>
<li><code>description</code>: ç®€çŸ­æè¿°</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>:</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#65737e;">// æ–‡ä»¶å: molap_file/tests/file_writer/phase_2_mmap_init.rs
</span><span>
</span><span style="color:#65737e;">/// Task 2-1: æ–‡ä»¶é¢„åˆ†é…é€»è¾‘
</span><span>#[</span><span style="color:#bf616a;">test</span><span>]
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">task_2_1_basic_file_creation</span><span>() { ... }
</span><span>
</span><span style="color:#65737e;">/// Task 2-3: Drop æ¸…ç†é€»è¾‘
</span><span>#[</span><span style="color:#bf616a;">test</span><span>]
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">task_2_3_drop_cleanup</span><span>() { ... }
</span></code></pre>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#65737e;">// æ–‡ä»¶å: molap_file/tests/scheme_v2/phase_1_dictionary.rs
</span><span>
</span><span style="color:#65737e;">/// Task 1-1: DimDict API å®šä¹‰
</span><span>#[</span><span style="color:#bf616a;">test</span><span>]
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">task_1_1_dim_dict_api</span><span>() { ... }
</span><span>
</span><span style="color:#65737e;">/// Task 1-2: Encoding é€»è¾‘
</span><span>#[</span><span style="color:#bf616a;">test</span><span>]
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">task_1_2_encoding_logic</span><span>() { ... }
</span></code></pre>
<h3 id="4-2-wen-jian-zu-zhi">4.2 æ–‡ä»¶ç»„ç»‡</h3>
<p><strong>æŒ‰ Feature åˆ†ç›®å½•</strong>ï¼šæ¯ä¸ª Feature æœ‰ç‹¬ç«‹çš„æµ‹è¯•å­ç›®å½•</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>molap_file/tests/
</span><span>â”œâ”€â”€ file_writer/
</span><span>â”‚   â”œâ”€â”€ phase_1_v1.rs              # Feature: file_writer, Phase 1
</span><span>â”‚   â”œâ”€â”€ phase_2_mmap.rs            # Feature: file_writer, Phase 2
</span><span>â”‚   â””â”€â”€ phase_3_schema.rs          # Feature: file_writer, Phase 3
</span><span>â”œâ”€â”€ scheme_v1/
</span><span>â”‚   â””â”€â”€ phase_1_basic.rs           # Feature: scheme_v1, Phase 1
</span><span>â””â”€â”€ scheme_v2/
</span><span>    â”œâ”€â”€ phase_1_dictionary.rs      # Feature: scheme_v2, Phase 1
</span><span>    â””â”€â”€ phase_2_encoding.rs        # Feature: scheme_v2, Phase 2
</span><span>
</span><span>lsm/tests/
</span><span>â”œâ”€â”€ memtable/
</span><span>â”‚   â””â”€â”€ phase_1_basic.rs           # Feature: memtable, Phase 1
</span><span>â””â”€â”€ compaction/
</span><span>    â””â”€â”€ phase_1_merge.rs           # Feature: compaction, Phase 1
</span></code></pre>
<h3 id="4-2-1-ce-shi-wen-jian-lu-jing-sheng-cheng-gui-ze">4.2.1 æµ‹è¯•æ–‡ä»¶è·¯å¾„ç”Ÿæˆè§„åˆ™</h3>
<p>Code Agent åˆ›å»ºæµ‹è¯•æ–‡ä»¶æ—¶ï¼Œå¿…é¡»éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p>
<ol>
<li><strong>ç¡®å®š crate</strong>ï¼šæ ¹æ®åŠŸèƒ½æ‰€å±çš„ crateï¼ˆå¦‚ molap_fileã€lsmï¼‰</li>
<li><strong>ç¡®å®š feature</strong>ï¼šä» task_list.md çš„æ–‡ä»¶è·¯å¾„ä¸­æå– feature åç§°</li>
<li><strong>ç¡®å®š phase</strong>ï¼šä»å½“å‰ Phase æ ‡é¢˜ä¸­æå–åºå·</li>
<li><strong>ç”Ÿæˆè·¯å¾„</strong>ï¼š<code>{crate}/tests/{feature}/phase_{seq}_{description}.rs</code></li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>task_list è·¯å¾„ï¼š<code>fpt/features/scheme_v2/task_list.md</code></li>
<li>å½“å‰ Phaseï¼š<code>Phase 3: Data Encoding</code></li>
<li>ç”Ÿæˆæµ‹è¯•æ–‡ä»¶ï¼š<code>molap_file/tests/scheme_v2/phase_3_encoding.rs</code></li>
</ul>
<p><strong>æ–‡ä»¶å†…éƒ¨æŒ‰ Task åˆ†ç»„</strong>ï¼š</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#65737e;">//! Feature: file_writer
</span><span style="color:#65737e;">//! Phase 2: æ–‡ä»¶é¢„åˆ†é… + Mmap åˆå§‹åŒ–
</span><span style="color:#65737e;">//!
</span><span style="color:#65737e;">//! # Tasks
</span><span style="color:#65737e;">//! - Task 1: æ–‡ä»¶é¢„åˆ†é…é€»è¾‘
</span><span style="color:#65737e;">//! - Task 2: Mmap åˆå§‹åŒ–
</span><span style="color:#65737e;">//! - Task 3: Drop æ¸…ç†é€»è¾‘
</span><span>
</span><span style="color:#b48ead;">use </span><span>molap_file::{FileWriter, FileConfig};
</span><span style="color:#b48ead;">use </span><span>std::fs;
</span><span>
</span><span style="color:#65737e;">// ============================================================================
</span><span style="color:#65737e;">// è¾…åŠ©å‡½æ•°
</span><span style="color:#65737e;">// ============================================================================
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">cleanup_test_file</span><span>(</span><span style="color:#bf616a;">path</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) { ... }
</span><span>
</span><span style="color:#65737e;">// ============================================================================
</span><span style="color:#65737e;">// Task 1: æ–‡ä»¶é¢„åˆ†é…
</span><span style="color:#65737e;">// ============================================================================
</span><span>
</span><span style="color:#65737e;">/// Task 2-1: æ–‡ä»¶é¢„åˆ†é…é€»è¾‘
</span><span>#[</span><span style="color:#bf616a;">test</span><span>]
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">task_2_1_basic_file_creation</span><span>() { ... }
</span><span>
</span><span style="color:#65737e;">// ============================================================================
</span><span style="color:#65737e;">// Task 2: Mmap åˆå§‹åŒ–
</span><span style="color:#65737e;">// ============================================================================
</span><span>
</span><span style="color:#65737e;">/// Task 2-2: Mmap åˆå§‹åŒ–
</span><span>#[</span><span style="color:#bf616a;">test</span><span>]
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">task_2_2_mmap_initialization</span><span>() { ... }
</span></code></pre>
<h3 id="4-3-ce-shi-fu-gai">4.3 æµ‹è¯•è¦†ç›–</h3>
<p>æ¯ä¸ª Phase è‡³å°‘åŒ…å«ï¼š</p>
<ul>
<li>æ­£å¸¸æµç¨‹æµ‹è¯•</li>
<li>è¾¹ç•Œæƒ…å†µæµ‹è¯•</li>
<li>é”™è¯¯å¤„ç†æµ‹è¯•</li>
</ul>
<p>æ¯ä¸ªæµ‹è¯•å‡½æ•°å¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ª Taskï¼Œåœ¨æ–‡æ¡£æ³¨é‡Šä¸­æ˜ç¡®è¯´æ˜è¦†ç›–èŒƒå›´ã€‚</p>
<hr />
<h2 id="5-shi-xian-liu-cheng-tdd-xun-huan">5. å®ç°æµç¨‹ï¼ˆTDD å¾ªç¯ï¼‰</h2>
<h3 id="red-green-refactor-yan-ge-zhi-xing-shun-xu">Red â†’ Green â†’ Refactorï¼ˆä¸¥æ ¼æ‰§è¡Œé¡ºåºï¼‰</h3>
<p><strong>é‡è¦ï¼šCode Agent å¿…é¡»ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼Œç¦æ­¢è·³è¿‡æˆ–é¢ å€’æ­¥éª¤</strong></p>
<ol>
<li>
<p><strong>å®šä¹‰æµ‹è¯•ï¼ˆRedï¼‰</strong>ï¼š</p>
<ul>
<li>å…ˆåœ¨ <code>tests/{feature}/phase_{seq}_*.rs</code> ä¸­ç¼–å†™æµ‹è¯•å‡½æ•°</li>
<li>æµ‹è¯•å‡½æ•°å‘½åå¿…é¡»éµå¾ª <code>task_{phase}_{task}_description</code> æ ¼å¼</li>
<li>éªŒè¯æµ‹è¯•å¤±è´¥ï¼ˆå› ä¸ºåŠŸèƒ½å°šæœªå®ç°ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å®šä¹‰ APIï¼ˆStubï¼‰</strong>ï¼š</p>
<ul>
<li>å®šä¹‰æ»¡è¶³æµ‹è¯•çš„æœ€å°æ¥å£ç­¾å</li>
<li>å‡½æ•°ä½“ä½¿ç”¨ <code>todo!()</code> æˆ– <code>unimplemented!()</code></li>
<li>ç¡®ä¿ <code>cargo test --no-run</code> ç¼–è¯‘é€šè¿‡</li>
</ul>
</li>
<li>
<p><strong>æµ‹è¯•è¯„å®¡ç‚¹</strong>ï¼š</p>
<ul>
<li>Code Agent å‘ Developer å±•ç¤ºæµ‹è¯•ç”¨ä¾‹</li>
<li>ç­‰å¾… Developer ç¡®è®¤åå†ç»§ç»­å®ç°</li>
</ul>
</li>
<li>
<p><strong>å®ç°åŠŸèƒ½ï¼ˆGreenï¼‰</strong>ï¼š</p>
<ul>
<li>å®ç°é€»è¾‘ï¼Œä½¿æµ‹è¯•é€šè¿‡</li>
<li>ä¼˜å…ˆæœ€ç®€å•çš„å®ç°ï¼Œä¸è¿‡åº¦è®¾è®¡</li>
</ul>
</li>
<li>
<p><strong>éªŒè¯æµ‹è¯•é€šè¿‡</strong>ï¼š</p>
<ul>
<li>è¿è¡Œ <code>cargo test task_{phase}_{task}</code></li>
<li>æ‰€æœ‰æµ‹è¯•å¿…é¡»é€šè¿‡ï¼Œæ—  panic æˆ– warnings</li>
</ul>
</li>
<li>
<p><strong>é‡æ„ï¼ˆRefactorï¼‰</strong>ï¼š</p>
<ul>
<li>ä¼˜åŒ–ä»£ç ç»“æ„ï¼Œä¿æŒæµ‹è¯•é€šè¿‡</li>
<li>æ¯æ¬¡é‡æ„åé‡æ–°è¿è¡Œæµ‹è¯•</li>
</ul>
</li>
</ol>
<h3 id="code-agent-cao-zuo-jian-cha-qing-dan">Code Agent æ“ä½œæ£€æŸ¥æ¸…å•</h3>
<p><strong>åœ¨æ¯ä¸ª Task å¼€å§‹å‰ï¼ŒCode Agent å¿…é¡»</strong>ï¼š</p>
<ul>
<li>ç¡®è®¤å·²è¯»å– <code>fpt/features/{feature}/task_list.md</code></li>
<li>ç¡®è®¤å½“å‰ Task çš„ç¼–å·å’Œæè¿°</li>
</ul>
<p><strong>åœ¨æ¯ä¸ª Task å®Œæˆåï¼ŒCode Agent å¿…é¡»</strong>ï¼š</p>
<ul>
<li>æ›´æ–° <code>fpt/features/{feature}/task_list.md</code> ä¸­çš„çŠ¶æ€</li>
<li>è¿è¡Œ <code>cargo test task_{phase}_{task}</code> éªŒè¯æµ‹è¯•é€šè¿‡</li>
</ul>
<hr />
<h2 id="6-jin-du-gen-zong-gui-fan">6. è¿›åº¦è·Ÿè¸ªè§„èŒƒ</h2>
<p>æ¯ä¸ª Feature çš„ Phase å’Œ Task ä¿¡æ¯å†™å…¥åˆ° <code>fpt/features/{feature}/task_list.md</code> æ–‡ä»¶ã€‚</p>
<h3 id="wen-jian-lu-jing-gui-fan">æ–‡ä»¶è·¯å¾„è§„èŒƒ</h3>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fpt/features/
</span><span>â”œâ”€â”€ file_writer/
</span><span>â”‚   â””â”€â”€ design.md             # file_writer feature çš„è®¾è®¡æ–‡æ¡£
</span><span>â”‚   â””â”€â”€ task_list.md          # file_writer feature çš„ä»»åŠ¡æ¸…å•
</span><span>â””â”€â”€ cli/
</span><span>    â””â”€â”€ task_list.md
</span></code></pre>
<h3 id="geng-xin-zhi-ze">æ›´æ–°èŒè´£</h3>
<ul>
<li><strong>Code Agent</strong>ï¼šæ¯ä¸ª Task/Phase å®Œæˆåè‡ªåŠ¨æ›´æ–°</li>
<li><strong>Developer</strong>ï¼šå®¡é˜…å¹¶è°ƒæ•´ä¼˜å…ˆçº§æˆ–è®¡åˆ’</li>
</ul>
<h3 id="wen-jian-ge-shi-shi-li">æ–‡ä»¶æ ¼å¼ç¤ºä¾‹</h3>
<pre data-lang="markdown" style="background-color:#2b303b;color:#c0c5ce;" class="language-markdown "><code class="language-markdown" data-lang="markdown"><span style="color:#8fa1b3;"># file_writer Task List
</span><span>
</span><span style="font-weight:bold;color:#ebcb8b;">**Git Branch**</span><span>: </span><span style="color:#a3be8c;">`feature/file_writer`
</span><span style="font-weight:bold;color:#ebcb8b;">**Base Branch**</span><span>: </span><span style="color:#a3be8c;">`main`
</span><span style="font-weight:bold;color:#ebcb8b;">**Status**</span><span>: â³ è¿›è¡Œä¸­
</span><span style="font-weight:bold;color:#ebcb8b;">**Created**</span><span>: 2025-01-10
</span><span style="font-weight:bold;color:#ebcb8b;">**Last Updated**</span><span>: 2025-01-15
</span><span>
</span><span style="background-color:#4f5b66;color:#c0c5ce;">---
</span><span>
</span><span style="color:#8fa1b3;">## Phase 1: API å®šä¹‰ + æµ‹è¯•æ¡†æ¶ (âœ… å®Œæˆ)
</span><span style="color:#bf616a;">- </span><span style="font-weight:bold;color:#ebcb8b;">**çŠ¶æ€**</span><span style="color:#bf616a;">: âœ… å®Œæˆ
</span><span style="color:#bf616a;">- </span><span style="font-weight:bold;color:#ebcb8b;">**æ—¶é—´**</span><span style="color:#bf616a;">: 2025-01-XX
</span><span style="color:#bf616a;">- </span><span style="font-weight:bold;color:#ebcb8b;">**äº§å‡º**</span><span style="color:#bf616a;">: file_writer.rs, tests/file_writer/phase_1_v1.rs
</span><span style="color:#bf616a;">- </span><span style="font-weight:bold;color:#ebcb8b;">**Commits**</span><span style="color:#bf616a;">: </span><span style="color:#a3be8c;">`a1b2c3d`</span><span style="color:#bf616a;"> - </span><span style="color:#a3be8c;">`e4f5g6h`
</span><span style="color:#bf616a;">- </span><span style="font-weight:bold;color:#ebcb8b;">**éªŒæ”¶æ ‡å‡†**</span><span style="color:#bf616a;">: æ‰€æœ‰ API ç¼–è¯‘é€šè¿‡ï¼Œæµ‹è¯•æ¡†æ¶å°±ç»ª
</span><span style="color:#bf616a;">
</span><span>| Task | æè¿° | çŠ¶æ€ |
</span><span>|------|------|------|
</span><span>| 1 | åˆ›å»ºæ ¸å¿ƒæ•°æ®ç»“æ„ | âœ… å®Œæˆ |
</span><span>| 2 | å¯¼å‡º API | âœ… å®Œæˆ |
</span><span>
</span><span style="color:#8fa1b3;">## Phase 2: æ–‡ä»¶é¢„åˆ†é… + Mmap åˆå§‹åŒ– (â³ è¿›è¡Œä¸­)
</span><span style="color:#bf616a;">- </span><span style="font-weight:bold;color:#ebcb8b;">**çŠ¶æ€**</span><span style="color:#bf616a;">: â³ è¿›è¡Œä¸­
</span><span style="color:#bf616a;">- </span><span style="font-weight:bold;color:#ebcb8b;">**äº§å‡º**</span><span style="color:#bf616a;">: FileWriter::new(), tests/file_writer/phase_2_mmap.rs
</span><span style="color:#bf616a;">- </span><span style="font-weight:bold;color:#ebcb8b;">**éªŒæ”¶æ ‡å‡†**</span><span style="color:#bf616a;">: æ–‡ä»¶é¢„åˆ†é…æ­£ç¡®ï¼ŒMmap åˆå§‹åŒ–æˆåŠŸï¼Œèµ„æºæ­£ç¡®æ¸…ç†
</span><span style="color:#bf616a;">
</span><span>| Task | æè¿° | çŠ¶æ€ |
</span><span>|------|------|------|
</span><span>| 1 | æ–‡ä»¶åˆ›å»ºä¸é¢„åˆ†é… | âœ… å®Œæˆ |
</span><span>| 2 | Mmap åˆå§‹åŒ– | â³ è¿›è¡Œä¸­ |
</span><span>| 3 | Drop æ¸…ç†é€»è¾‘ | â¸ï¸ å¾…å¼€å§‹ |
</span></code></pre>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>åœ¨ task_list ä¸­ï¼Œä¸è¦å†™å…¥å¤ªå¤šçš„æŠ€æœ¯ç»†èŠ‚ï¼ŒåŒ…æ‹¬æ–¹æ¡ˆæè¿°ã€ä»£ç ç­‰ï¼Œé‡è¦åœ¨äºæè¿°ä»»åŠ¡ç›®æ ‡ï¼Œä»¥ç»´æŒè¯¥æ–‡ä»¶çš„ç®€æ´æ€§ã€‚</li>
<li>phase é¢˜ä¸­åŒ…æ‹¬è¯¥ phase çš„å½“å‰çŠ¶æ€ï¼Œæ–¹ä¾¿åœ¨ IDE ä¸­å¿«é€Ÿé€šè¿‡ outline æŸ¥çœ‹è¿›åº¦ã€‚</li>
<li>task table éœ€è¦åŒ…æ‹¬ï¼š Taskã€Description, Status ä¸‰åˆ—ã€‚</li>
<li>å®Œæˆ task æˆ– phase åï¼ŒåŠæ—¶æ›´æ–°è¯¥æ–‡æ¡£çš„è¿›åº¦çŠ¶æ€ã€‚</li>
<li>åœ¨æ¯ä¸ª phase ä¸‹ï¼Œæ ¹æ®éœ€è¦ï¼Œå¯ä»¥è¡¥å……ä¸Šç›¸å…³æ–‡æ¡£çš„é“¾æ¥ã€‚</li>
</ul>
<hr />
<h2 id="7-yan-shou-biao-zhun">7. éªŒæ”¶æ ‡å‡†</h2>
<h3 id="task-wan-cheng-biao-zhun">Task å®Œæˆæ ‡å‡†</h3>
<ul>
<li>âœ… å¯¹åº”æµ‹è¯•é€šè¿‡ï¼ˆ<code>cargo test task_{phase}_{task}</code>ï¼‰</li>
<li>âœ… ä»£ç æœ‰æ¸…æ™°æ³¨é‡Š</li>
<li>âœ… æ— æ–°å¢ warningsï¼ˆé™¤åˆç†çš„ <code>unused</code>ï¼‰</li>
</ul>
<h3 id="phase-wan-cheng-biao-zhun">Phase å®Œæˆæ ‡å‡†</h3>
<ul>
<li>âœ… æ‰€æœ‰ Task æµ‹è¯•é€šè¿‡</li>
<li>âœ… æ›´æ–° <code>fpt/features/{feature}/task_list.md</code></li>
<li>âœ… Developer ç¡®è®¤éªŒæ”¶</li>
</ul>
<hr />
<h2 id="8-gou-tong-mo-shi">8. æ²Ÿé€šæ¨¡å¼</h2>
<h3 id="8-1-phase-kai-shi-qian">8.1 Phase å¼€å§‹å‰</h3>
<p><strong>Code Agent</strong>ï¼š</p>
<ol>
<li>å±•ç¤ºå®Œæ•´çš„ Phase è®¡åˆ’ï¼ˆTask æ¸…å•ã€æ—¶é—´ä¼°ç®—ï¼‰</li>
<li>è¯´æ˜æŠ€æœ¯æ–¹æ¡ˆå’Œè®¾è®¡å†³ç­–</li>
<li>ç­‰å¾… Developer ç¡®è®¤åå¼€å§‹å®æ–½</li>
</ol>
<p><strong>Developer</strong>ï¼š</p>
<ul>
<li>å®¡é˜… Phase è®¡åˆ’</li>
<li>æå‡ºè°ƒæ•´å»ºè®®æˆ–ä¼˜åŒ–æ–¹æ¡ˆ</li>
<li>æ˜ç¡®ç¡®è®¤å Code Agent å¼€å§‹å®æ–½</li>
</ul>
<h3 id="8-2-shi-shi-guo-cheng-zhong">8.2 å®æ–½è¿‡ç¨‹ä¸­</h3>
<p><strong>Code Agent</strong>ï¼š</p>
<ul>
<li>æ¯å®Œæˆä¸€ä¸ª Task å‘ Developer æ±‡æŠ¥è¿›åº¦</li>
<li>é‡åˆ°è®¾è®¡é—®é¢˜åŠæ—¶è¯¢é—® Developer</li>
</ul>
<p><strong>Developer</strong>ï¼š</p>
<ul>
<li>åŠæ—¶å›å¤é—®é¢˜</li>
<li>ç¡®è®¤å…³é”®è®¾è®¡å†³ç­–</li>
</ul>
<h3 id="8-3-phase-wan-cheng-hou">8.3 Phase å®Œæˆå</h3>
<p><strong>Code Agent</strong>ï¼š</p>
<ol>
<li>æ€»ç»“å®Œæˆå†…å®¹å’Œæµ‹è¯•ç»“æœ</li>
<li>æ›´æ–° <code>doc/tdd/{feature}/task_list.md</code></li>
<li>è¯´æ˜ä¸‹ä¸€æ­¥è®¡åˆ’</li>
</ol>
<p><strong>Developer</strong>ï¼š</p>
<ul>
<li>éªŒè¯äº§å‡ºç‰©</li>
<li>ç¡®è®¤æ˜¯å¦è¿›å…¥ä¸‹ä¸€ Phase</li>
</ul>
<h3 id="8-4-wan-zheng-dui-hua-shi-li">8.4 å®Œæ•´å¯¹è¯ç¤ºä¾‹</h3>
<p><strong>åœºæ™¯ï¼šå¼€å§‹ scheme_v2 Phase 1 Task 1</strong></p>
<p><strong>Code Agent</strong>:</p>
<blockquote>
<p>æˆ‘å°†å¼€å§‹ Feature <code>scheme_v2</code> çš„ Phase 1 Task 1: "DimDict API å®šä¹‰"</p>
<p>æˆ‘çš„è®¡åˆ’æ˜¯ï¼š</p>
<ol>
<li>åˆ›å»ºæµ‹è¯•æ–‡ä»¶ <code>molap_file/tests/scheme_v2/phase_1_dictionary.rs</code></li>
<li>ç¼–å†™æµ‹è¯•å‡½æ•° <code>task_1_1_dim_dict_api()</code></li>
<li>å®šä¹‰ DimDict çš„æ•°æ®ç»“æ„å’Œæ¥å£ç­¾å</li>
<li>ä½¿ç”¨ <code>todo!()</code> å ä½å®ç°</li>
<li>éªŒè¯ç¼–è¯‘é€šè¿‡</li>
</ol>
<p>æµ‹è¯•ç”¨ä¾‹å°†éªŒè¯ï¼š</p>
<ul>
<li>DimDict::new() åˆ›å»ºç©ºå­—å…¸</li>
<li>DimDict::insert() æ’å…¥ç»´åº¦å€¼</li>
<li>DimDict::get() æŸ¥è¯¢ç»´åº¦ ID</li>
</ul>
<p>æ˜¯å¦å¼€å§‹ï¼Ÿ</p>
</blockquote>
<p><strong>Developer</strong>:</p>
<blockquote>
<p>ç¡®è®¤ï¼Œå¼€å§‹å§ã€‚è®°å¾— DimDict éœ€è¦æ”¯æŒ Option<String> ç±»å‹ã€‚</p>
</blockquote>
<p><strong>Code Agent</strong>:</p>
<blockquote>
<p>æ”¶åˆ°ï¼Œæˆ‘ä¼šåœ¨æµ‹è¯•ä¸­åŒ…å« None å€¼çš„å¤„ç†ã€‚å¼€å§‹å®æ–½...</p>
</blockquote>
<hr />
<h2 id="9-yi-chang-chu-li-liu-cheng">9. å¼‚å¸¸å¤„ç†æµç¨‹</h2>
<h3 id="9-1-ce-shi-bian-yi-shi-bai">9.1 æµ‹è¯•ç¼–è¯‘å¤±è´¥</h3>
<p>Code Agent å¿…é¡»ç«‹å³æ£€æŸ¥ï¼š</p>
<ul>
<li>API ç­¾åæ˜¯å¦ä¸æµ‹è¯•ä»£ç åŒ¹é…</li>
<li>ä¾èµ–å…³ç³»æ˜¯å¦æ­£ç¡®</li>
<li>æ¨¡å—å¯¼å‡ºæ˜¯å¦å®Œæ•´</li>
</ul>
<h3 id="9-2-ce-shi-yun-xing-shi-bai">9.2 æµ‹è¯•è¿è¡Œå¤±è´¥</h3>
<p>Code Agent å¿…é¡»ï¼š</p>
<ul>
<li>ä»”ç»†é˜…è¯»æµ‹è¯•è¾“å‡ºå’Œæ–­è¨€ä¿¡æ¯</li>
<li>å®šä½å¤±è´¥çš„å…·ä½“æµ‹è¯•å‡½æ•°</li>
<li>ä¿®å¤å®ç°ä»£ç ï¼Œè€Œä¸æ˜¯ä¿®æ”¹æµ‹è¯•ï¼ˆé™¤éæµ‹è¯•æœ¬èº«æœ‰é”™è¯¯ï¼‰</li>
<li>å‘ Developer æ±‡æŠ¥æŒç»­å¤±è´¥çš„æµ‹è¯•</li>
</ul>
<h3 id="9-3-ce-shi-tong-guo-dan-luo-ji-you-wen-ti">9.3 æµ‹è¯•é€šè¿‡ä½†é€»è¾‘æœ‰é—®é¢˜</h3>
<p>å½“ Developer å‘ç°é—®é¢˜æ—¶ï¼š</p>
<ul>
<li>Code Agent å¿…é¡»å…ˆå¢åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹è¦†ç›–è¯¥åœºæ™¯</li>
<li>ç„¶åä¿®å¤å®ç°ä½¿æ–°æµ‹è¯•é€šè¿‡</li>
</ul>
<hr />
<h2 id="10-git-gong-zuo-liu-ji-cheng">10. Git å·¥ä½œæµé›†æˆ</h2>
<h3 id="10-1-fen-zhi-ce-lue-git-worktree">10.1 åˆ†æ”¯ç­–ç•¥ï¼ˆGit Worktreeï¼‰</h3>
<h4 id="fen-zhi-ming-ming-gui-fan">åˆ†æ”¯å‘½åè§„èŒƒ</h4>
<p>æ¯ä¸ª Feature å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„ Git åˆ†æ”¯ï¼š</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>main                           # ä¸»åˆ†æ”¯
</span><span>â”œâ”€â”€ feature/scheme_v2          # Feature åˆ†æ”¯
</span><span>â”œâ”€â”€ feature/file_writer        # Feature åˆ†æ”¯
</span><span>â””â”€â”€ feature/cli                # Feature åˆ†æ”¯
</span></code></pre>
<p><strong>è§„åˆ™</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ª Feature å¯¹åº”ä¸€ä¸ª <code>feature/{feature_name}</code> åˆ†æ”¯</li>
<li>Feature åˆ†æ”¯ä» <code>main</code> åˆ†æ”¯åˆ›å»º</li>
<li>Phase å’Œ Task çš„ commit éƒ½åœ¨ Feature åˆ†æ”¯ä¸Šè¿›è¡Œ</li>
<li>Feature å®Œæˆåé€šè¿‡ Pull Request åˆå¹¶å› <code>main</code></li>
</ul>
<h4 id="git-worktree-bing-xing-kai-fa-tui-jian">Git Worktree å¹¶è¡Œå¼€å‘ï¼ˆæ¨èï¼‰</h4>
<p>ä½¿ç”¨ Git Worktree å®ç°å¤š Feature çœŸæ­£å¹¶è¡Œå¼€å‘ï¼š</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># ä¸»å·¥ä½œç›®å½•
</span><span style="color:#96b5b4;">cd</span><span> /path/to/{project}
</span><span>
</span><span style="color:#65737e;"># ä¸ºæ¯ä¸ª Feature åˆ›å»ºç‹¬ç«‹å·¥ä½œç›®å½•
</span><span style="color:#bf616a;">git</span><span> worktree add ../{project}-scheme_v2 feature/scheme_v2
</span><span style="color:#bf616a;">git</span><span> worktree add ../{project}-file_writer feature/file_writer
</span><span>
</span><span style="color:#65737e;"># åœ¨ä¸åŒç»ˆç«¯/çª—å£ä¸­å¹¶è¡Œå¼€å‘
</span><span style="color:#96b5b4;">cd</span><span> ../{project}-scheme_v2      </span><span style="color:#65737e;"># Terminal 1
</span><span style="color:#96b5b4;">cd</span><span> ../{project}-file_writer    </span><span style="color:#65737e;"># Terminal 2
</span></code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ª Feature æœ‰ç‹¬ç«‹çš„å·¥ä½œç›®å½•å’Œç¼–è¯‘çŠ¶æ€</li>
<li>æ— éœ€é¢‘ç¹åˆ‡æ¢åˆ†æ”¯</li>
<li>å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªæµ‹è¯•å¥—ä»¶</li>
<li>é¿å…åˆ†æ”¯åˆ‡æ¢å¯¼è‡´çš„æ–‡ä»¶å˜åŠ¨å’Œé‡æ–°ç¼–è¯‘</li>
</ul>
<p><strong>æ¸…ç† Worktree</strong>ï¼š</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># Feature åˆå¹¶ååˆ é™¤ worktree
</span><span style="color:#bf616a;">git</span><span> worktree remove ../{project}-scheme_v2
</span></code></pre>
<h3 id="10-2-commit-gui-fan">10.2 Commit è§„èŒƒ</h3>
<h4 id="task-wan-cheng-shi">Task å®Œæˆæ—¶</h4>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">git</span><span> add .
</span><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">task: Phase {phase} Task {task} - {description}</span><span>&quot;
</span></code></pre>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">task: Phase 1 Task 2 - DimDict encoding logic</span><span>&quot;
</span><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">task: Phase 2 Task 1 - File preallocation</span><span>&quot;
</span></code></pre>
<p><strong>è¯´æ˜</strong>ï¼šFeature åç§°å·²åŒ…å«åœ¨åˆ†æ”¯åä¸­ï¼Œæ— éœ€åœ¨ commit message ä¸­é‡å¤ã€‚</p>
<h4 id="phase-wan-cheng-shi">Phase å®Œæˆæ—¶</h4>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">git</span><span> add fpt/features/{feature}/task_list.md
</span><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">phase: Phase {phase} complete - {summary}</span><span>&quot;
</span></code></pre>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">phase: Phase 1 complete - Dictionary implementation</span><span>&quot;
</span></code></pre>
<h4 id="feature-wan-cheng-shi">Feature å®Œæˆæ—¶</h4>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">git</span><span> add .
</span><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">feature: {feature} complete</span><span>&quot;
</span><span style="color:#bf616a;">git</span><span> push origin feature/{feature}
</span></code></pre>
<h3 id="10-3-wan-zheng-gong-zuo-liu-cheng-shi-li">10.3 å®Œæ•´å·¥ä½œæµç¨‹ç¤ºä¾‹</h3>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># ========================================
</span><span style="color:#65737e;"># Developer å¯åŠ¨æ–° Feature
</span><span style="color:#65737e;"># ========================================
</span><span style="color:#96b5b4;">cd</span><span> /path/to/{project}
</span><span style="color:#bf616a;">git</span><span> checkout main
</span><span style="color:#bf616a;">git</span><span> pull
</span><span style="color:#bf616a;">git</span><span> checkout</span><span style="color:#bf616a;"> -b</span><span> feature/scheme_v2
</span><span>
</span><span style="color:#65737e;"># åˆ›å»ºç‹¬ç«‹å·¥ä½œç›®å½•ï¼ˆä½¿ç”¨ worktreeï¼‰
</span><span style="color:#bf616a;">git</span><span> worktree add ../{project}-scheme_v2 feature/scheme_v2
</span><span style="color:#96b5b4;">cd</span><span> ../{project}-scheme_v2
</span><span>
</span><span style="color:#65737e;"># åˆ›å»º Feature æ–‡æ¡£
</span><span style="color:#bf616a;">mkdir -p</span><span> fpt/features/scheme_v2
</span><span style="color:#65737e;"># ç¼–å†™ design.md å’Œ task_list.md
</span><span>
</span><span style="color:#bf616a;">git</span><span> add fpt/features/scheme_v2/
</span><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">docs: Initialize scheme_v2 feature</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># ========================================
</span><span style="color:#65737e;"># Code Agent å¼€å§‹ Phase 1
</span><span style="color:#65737e;"># ========================================
</span><span style="color:#65737e;"># Task 1: DimDict API å®šä¹‰
</span><span style="color:#65737e;"># ... ç¼–å†™æµ‹è¯•ã€å®ç° ...
</span><span style="color:#bf616a;">git</span><span> add .
</span><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">task: Phase 1 Task 1 - DimDict API definition</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># Task 2: Encoding é€»è¾‘
</span><span style="color:#65737e;"># ... ç¼–å†™æµ‹è¯•ã€å®ç° ...
</span><span style="color:#bf616a;">git</span><span> add .
</span><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">task: Phase 1 Task 2 - Encoding logic</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># Phase 1 å®Œæˆ
</span><span style="color:#bf616a;">git</span><span> add fpt/features/scheme_v2/task_list.md
</span><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">phase: Phase 1 complete - Dictionary implementation</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># ========================================
</span><span style="color:#65737e;"># Phase 2, Phase 3 ...
</span><span style="color:#65737e;"># ========================================
</span><span style="color:#65737e;"># ... é‡å¤ä¸Šè¿°æµç¨‹ ...
</span><span>
</span><span style="color:#65737e;"># ========================================
</span><span style="color:#65737e;"># Feature å®Œæˆ
</span><span style="color:#65737e;"># ========================================
</span><span style="color:#65737e;"># æ‰€æœ‰æµ‹è¯•é€šè¿‡
</span><span style="color:#bf616a;">cargo</span><span> test</span><span style="color:#bf616a;"> --all
</span><span>
</span><span style="color:#65737e;"># æœ€ç»ˆæ›´æ–°
</span><span style="color:#bf616a;">git</span><span> add .
</span><span style="color:#bf616a;">git</span><span> commit</span><span style="color:#bf616a;"> -m </span><span>&quot;</span><span style="color:#a3be8c;">feature: scheme_v2 complete</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># æ¨é€å¹¶åˆ›å»º PR
</span><span style="color:#bf616a;">git</span><span> push origin feature/scheme_v2
</span><span style="color:#bf616a;">gh</span><span> pr create</span><span style="color:#bf616a;"> --title </span><span>&quot;</span><span style="color:#a3be8c;">Feature: scheme_v2 - New storage scheme</span><span>&quot;</span><span style="color:#bf616a;"> --base</span><span> main
</span><span>
</span><span style="color:#65737e;"># ========================================
</span><span style="color:#65737e;"># Code Review &amp; Merge
</span><span style="color:#65737e;"># ========================================
</span><span style="color:#65737e;"># Developer å®¡æŸ¥ PR
</span><span style="color:#65737e;"># åˆå¹¶åˆ° main
</span><span style="color:#65737e;"># æ¸…ç† worktree
</span><span style="color:#96b5b4;">cd</span><span> /path/to/{project}
</span><span style="color:#bf616a;">git</span><span> worktree remove ../{project}-scheme_v2
</span><span style="color:#bf616a;">git</span><span> branch</span><span style="color:#bf616a;"> -d</span><span> feature/scheme_v2
</span></code></pre>
<h3 id="10-4-code-agent-jian-cha-qing-dan-git-xiang-guan">10.4 Code Agent æ£€æŸ¥æ¸…å•ï¼ˆGit ç›¸å…³ï¼‰</h3>
<h4 id="zai-mei-ge-feature-kai-shi-qian">åœ¨æ¯ä¸ª Feature å¼€å§‹å‰</h4>
<ul>
<li>âœ… ç¡®è®¤å½“å‰åœ¨æ­£ç¡®çš„ Feature åˆ†æ”¯ï¼ˆ<code>git branch --show-current</code>ï¼‰</li>
<li>âœ… å¦‚æœä½¿ç”¨ worktreeï¼Œç¡®è®¤åœ¨æ­£ç¡®çš„å·¥ä½œç›®å½•</li>
</ul>
<h4 id="zai-mei-ge-task-wan-cheng-hou">åœ¨æ¯ä¸ª Task å®Œæˆå</h4>
<ul>
<li>âœ… ä½¿ç”¨è§„èŒƒçš„ commit messageï¼ˆ<code>task: Phase X Task Y - description</code>ï¼‰</li>
<li>âœ… Commit å˜æ›´åˆ°å½“å‰ Feature åˆ†æ”¯</li>
</ul>
<h4 id="zai-mei-ge-phase-wan-cheng-hou">åœ¨æ¯ä¸ª Phase å®Œæˆå</h4>
<ul>
<li>âœ… æ›´æ–° <code>task_list.md</code>ï¼ˆæ ‡è®° Phase âœ…ï¼‰</li>
<li>âœ… åˆ›å»º Phase æ€»ç»“ commitï¼ˆ<code>phase: Phase X complete - summary</code>ï¼‰</li>
</ul>
<h4 id="zai-feature-wan-cheng-hou">åœ¨ Feature å®Œæˆå</h4>
<ul>
<li>âœ… æ‰€æœ‰ Phase æµ‹è¯•é€šè¿‡</li>
<li>âœ… æ›´æ–° <code>task_list.md</code>ï¼ˆæ ‡è®° Feature âœ…ï¼‰</li>
<li>âœ… æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ï¼ˆ<code>git push origin feature/{name}</code>ï¼‰</li>
<li>âœ… åˆ›å»º Pull Request</li>
</ul>
<h3 id="10-5-pull-request-gui-fan">10.5 Pull Request è§„èŒƒ</h3>
<h4 id="pr-biao-ti-ge-shi">PR æ ‡é¢˜æ ¼å¼</h4>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>Feature: {feature_name} - {one-line summary}
</span></code></pre>
<h4 id="pr-miao-shu-mo-ban">PR æè¿°æ¨¡æ¿</h4>
<pre data-lang="markdown" style="background-color:#2b303b;color:#c0c5ce;" class="language-markdown "><code class="language-markdown" data-lang="markdown"><span style="color:#8fa1b3;">## Feature æ¦‚è¿°
</span><span>{ç®€çŸ­æè¿°åŠŸèƒ½}
</span><span>
</span><span style="color:#8fa1b3;">## Phase æ¸…å•
</span><span style="color:#bf616a;">- [x] Phase 1: Dictionary å®ç°
</span><span style="color:#bf616a;">- [x] Phase 2: Encoding é€»è¾‘
</span><span style="color:#bf616a;">- [x] Phase 3: Integration æµ‹è¯•
</span><span style="color:#bf616a;">
</span><span style="color:#8fa1b3;">## æµ‹è¯•ç»“æœ
</span><span>```</span><span style="color:#d08770;">bash
</span><span style="color:#bf616a;">cargo</span><span> test</span><span style="color:#bf616a;"> --all
</span><span style="color:#65737e;"># æ‰€æœ‰æµ‹è¯•é€šè¿‡
</span></code></pre>
<h2 id="xiang-guan-wen-dang">ç›¸å…³æ–‡æ¡£</h2>
<ul>
<li>è®¾è®¡æ–‡æ¡£: <code>fpt/features/scheme_v2/design.md</code></li>
<li>ä»»åŠ¡æ¸…å•: <code>fpt/features/scheme_v2/task_list.md</code></li>
</ul>
<h2 id="checklist">Checklist</h2>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
æ‰€æœ‰ Phase æµ‹è¯•é€šè¿‡</li>
<li><input disabled="" type="checkbox" checked=""/>
æ›´æ–° task_list.md</li>
<li><input disabled="" type="checkbox" checked=""/>
æ— æ–°å¢ warnings</li>
<li><input disabled="" type="checkbox" checked=""/>
ä»£ç å®¡æŸ¥é€šè¿‡</li>
</ul>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>
</span><span>### 10.6 å¤š Feature å†²çªå¤„ç†
</span><span>
</span><span>#### ç­–ç•¥ï¼šå®šæœŸåŒæ­¥ main çš„å˜æ›´
</span><span>
</span><span>```bash
</span><span># åœ¨ Feature åˆ†æ”¯ï¼ˆæ¯å®Œæˆä¸€ä¸ª Phase åï¼‰
</span><span>git fetch origin main
</span><span>git rebase origin/main
</span><span>
</span><span># è§£å†³å†²çªï¼ˆå¦‚æœ‰ï¼‰
</span><span># ...
</span><span>
</span><span>git rebase --continue
</span></code></pre>
<p><strong>å»ºè®®</strong>ï¼š</p>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨ Rebase ä¿æŒçº¿æ€§å†å²</li>
<li>åœ¨ Phase å®ŒæˆååŒæ­¥ main çš„å˜æ›´</li>
<li>Code Agent åœ¨ Phase å¼€å§‹å‰æ£€æŸ¥æ˜¯å¦éœ€è¦åŒæ­¥</li>
</ul>
<hr />
<h2 id="11-chang-jian-wen-ti-pai-cha">11. å¸¸è§é—®é¢˜æ’æŸ¥</h2>
<h3 id="q-ce-shi-wen-jian-zhao-bu-dao-bei-ce-shi-de-mo-kuai">Q: æµ‹è¯•æ–‡ä»¶æ‰¾ä¸åˆ°è¢«æµ‹è¯•çš„æ¨¡å—</h3>
<p><strong>A</strong>: æ£€æŸ¥ <code>Cargo.toml</code> ä¸­çš„ <code>[lib]</code> é…ç½®ï¼Œç¡®ä¿æ¨¡å—å·²å¯¼å‡º</p>
<h3 id="q-phase-bian-hao-chong-tu">Q: Phase ç¼–å·å†²çª</h3>
<p><strong>A</strong>: Phase ç¼–å·åœ¨ Feature å†…ç‹¬ç«‹ï¼Œä¸åŒ Feature å¯ä»¥æœ‰ç›¸åŒçš„ Phase ç¼–å·</p>
<h3 id="q-ce-shi-han-shu-ming-ming-bu-fu-he-gui-fan">Q: æµ‹è¯•å‡½æ•°å‘½åä¸ç¬¦åˆè§„èŒƒ</h3>
<p><strong>A</strong>: å¿…é¡»ä½¿ç”¨ <code>task_{phase}_{task}_description</code> æ ¼å¼ï¼Œphase å’Œ task éƒ½æ˜¯å•å±‚ç¼–å·</p>
<h3 id="q-cargo-test-zhao-bu-dao-te-ding-ce-shi">Q: <code>cargo test</code> æ‰¾ä¸åˆ°ç‰¹å®šæµ‹è¯•</h3>
<p><strong>A</strong>: ä½¿ç”¨å®Œæ•´çš„æµ‹è¯•åè¿‡æ»¤ï¼Œå¦‚ <code>cargo test task_2_1</code> æˆ– <code>cargo test --test phase_2_mmap</code></p>
<h3 id="q-ce-shi-tong-guo-dan-code-agent-wei-geng-xin-task-list-md">Q: æµ‹è¯•é€šè¿‡ä½† Code Agent æœªæ›´æ–° task_list.md</h3>
<p><strong>A</strong>: è¿™è¿åäº†æ“ä½œæ£€æŸ¥æ¸…å•ï¼ŒCode Agent å¿…é¡»åœ¨æ¯ä¸ª Task å®Œæˆåç«‹å³æ›´æ–°çŠ¶æ€</p>

        </article>

        <nav style="display: flex; justify-content: space-between">
          
          <a href="https://wangzaixiang.github.io/blog/vibe-coding-2/"> â‡¦ Previous </a>
          

          
          <a href="https://wangzaixiang.github.io/blog/vibe-coding/"> Next â‡¨ </a>
          
        </nav>

      </div>
    </div>
  </div>
</div>


  
    
<footer class="footer text-muted">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 order-last order-lg-first">
				<ul class="list-inline">
					
					    <!--
						<li class="list-inline-item">Powered by <a href="https://www.netlify.com/">Netlify</a>, <a href="https://www.getzola.org/">Zola</a>, and <a href="https://github.com/aaranxu/adidoks">AdiDoks</a></li>
						-->
					
				</ul>
			</div>
			<div class="col-lg-8 order-first order-lg-last text-lg-end">
				<ul class="list-inline">
					
				</ul>
			</div>
		</div>
	</div>
</footer>

  

  
<script type="text/javascript" src="https://wangzaixiang.github.io/js/main.js" defer></script>

  <script type="text/javascript" src="https://wangzaixiang.github.io/plugins/elasticlunr.min.js" defer></script>
  <script type="text/javascript" src="https://wangzaixiang.github.io/search_index.en.js" defer></script>
  <script type="text/javascript" src="https://wangzaixiang.github.io/js/search.js" defer></script>


  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script type="module">
    let elems = document.querySelectorAll("div.mermaid");
    elems.forEach(function(it) {
      it.innerHTML = it.innerHTML.replace("```mermaid", "").replace("```", "");
    });
    let theme = document.querySelector("body").classList.contains("dark") ? "dark" : "default";
    mermaid.initialize({startOnLoad: false, theme});
    await mermaid.run( { querySelector: '.mermaid' } );
    elems.forEach( it => it.style.width = "80%" );
  </script>
</body>
</html>
